<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"wonderful-sea-04900b000.6.azurestaticapps.net","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Shawn Lin&#39;s Blog">
<meta property="og:url" content="https://wonderful-sea-04900b000.6.azurestaticapps.net/page/12/index.html">
<meta property="og:site_name" content="Shawn Lin&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Xiao Lin">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/page/12/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Shawn Lin's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Shawn Lin's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/07/22/%E7%BB%99%E8%B1%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/22/%E7%BB%99%E8%B1%86/" class="post-title-link" itemprop="url">给豆</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-22 10:59:22" itemprop="dateCreated datePublished" datetime="2021-07-22T10:59:22+08:00">2021-07-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bolgs/" itemprop="url" rel="index"><span itemprop="name">bolgs</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bolgs/%E6%9D%82%E8%B0%88/" itemprop="url" rel="index"><span itemprop="name">杂谈</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>二零二一年七月二十二日，豆豆离开我们去喵星了。</p>
<p>据我妈说，估计是早上门没关好，豆溜出去了。你总是那么聪明，总是跑出去也是让我们头疼不少。现在想想，你可能只是想出去玩玩吧？</p>
<p>我妈找不到你，一直在喊你的名字。最后只听到你微弱的呜咽从我家车底下面传来。你真的很聪明！我们不怎么带你出去，带你坐车更是寥寥无几，你就记住我们家的车了。</p>
<p>找到你的时候，你嘴巴里都是血，身子也动不了了。在去医院的路上，我妈说你一直看着她。你在想什么呢？最后你还是没有撑住，再到医院的路上就去喵星了。也许你只是想再看家人一眼吧！</p>
<p>豆，你真的是很聪明、很通人性的一只小猫咪。在我心里你还是最漂亮的。领养你之前，我还在担心，狸花猫会不会野性太大，不好管。最后发现确实是这样，家里根本管不住你，你会抓住一切机会留出家门。但是这次不知道是怎么回事，你怎么还跑到小区大门外去了呢？人类世界很险恶的呀。</p>
<p>你来到我家还不到两年，你也刚刚两岁。你刚来的时候，那么小，那么瘦，一个手掌就能把你托起来。过了一个学期之后再回家，你已经有成猫的体型了。再过了一个学期，你简直长成了一头猪。</p>
<p>你真的谈不上乖，总是喜欢跳上我的床，还尿了好几次。晚上让你一只猫在客厅睡，有时候还喜欢挠门，吵着要进来。你还把我女票好几千的大衣抓了个线头出来。但是你很亲人（至少对我），喜欢跳上我的腿呼噜呼噜。我桌子旁边的猫窝是你的最爱，躺在里面蜷成一团打呼噜，别提多舒服了。这个时候就可以尽情地撸你，别的时候倒也可以，但是你总以为我在和你玩，于是和我激情互动，有的时候会忘记收爪子，给我抓了一道，害得我要去打疫苗。</p>
<p>我最喜欢的场景是，我在桌前做自己的事情，你在我床上揣着手手看着我。据说猫盯着人是喜欢对方的意思。你应该很喜欢我们这个家吧！其实我一直怀疑你可能觉得自己只是暂住在这里。但是我想你心里是有我们的，你分得清谁对你好。我妈给你买了一个又一个猫窝，家里就摆了三四个。我爸应该和你待的时间最多，下班之后就陪着你。我和你待的时间最少，但是放假期间咱俩基本是一呆一天。我都说我和你在家里是平级的，你可以算是我弟。</p>
<p>我只能庆幸，我今天没有在场，不然我不知道如何面对。但也后悔，如果我在家，你可能就不会跑出去了。两年，对于一只猫来说，也是很短暂的了。对于人来说，两年，只是生命中一段插曲罢了，但是你永远留在我心里。生命真的很脆弱，更显得它珍贵。</p>
<p>写这些东西，你也看不到，你也看不懂，无非是给自己留个念想。这时候，我甚至有点想相信有轮回啊灵魂什么的一说。我妈说，之后会把你的骨灰洒在市政广场的一棵树下。市府广场够大了，你想怎么跑都行。我会经常去看看你的。</p>
<p>豆，谢谢你两年的陪伴。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/07/21/freecad%E4%BD%BF%E7%94%A8luxcorerender%E6%B8%B2%E6%9F%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/21/freecad%E4%BD%BF%E7%94%A8luxcorerender%E6%B8%B2%E6%9F%93/" class="post-title-link" itemprop="url">Freecad使用LuxCoreRender渲染</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-21 23:31:49" itemprop="dateCreated datePublished" datetime="2021-07-21T23:31:49+08:00">2021-07-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E8%B4%B4/" itemprop="url" rel="index"><span itemprop="name">技术贴</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Freecad上手后，发现真的挺好用的，随手建模个小零件打印出来，甚至还可以实现一部分BIM的功能。不过不足之处在于没有内建的渲染功能。</p>
<p>实际上也不能说这是它的不足之处，Freecad的许多功能都是以插件的形式实现的，这也是它强大的原因。本文将介绍如何使用一款开源的渲染工具：LuxCoreRender来配合Freecad进行渲染。</p>
<p>本文环境为Ubuntu20.04，FreeCAD版本0.19.</p>
<h2 id="安装LuxCoreRender"><a href="#安装LuxCoreRender" class="headerlink" title="安装LuxCoreRender"></a>安装LuxCoreRender</h2><p><a target="_blank" rel="noopener" href="https://luxcorerender.org/download/">https://luxcorerender.org/download/</a></p>
<p>到官网下载界面下载<strong>Standalone release</strong>。下载完成后解压，如下图：</p>
<p><img src="http://www.lxshaw.com/wp-content/uploads/2021/07/image-11-1024x491.png"></p>
<p>完成后，将所有动态链接库文件拷贝到&#x2F;usr&#x2F;lib下，一共有下面这些。</p>
<p><img src="http://www.lxshaw.com/wp-content/uploads/2021/07/image-12-1024x316.png"></p>
<p>在命令行下运行luxcoreui程序。测试一下，点击rendering-load，加载自带的scenes文件夹中的cornell.cfg：</p>
<p><img src="blob:http://www.lxshaw.com/459ae9cc-a6bd-4664-a338-2769e6d6b588"></p>
<p>LuxCoreRender的渲染模式很特别，是即时渲染的。也就是说，渲染过程不会停止，除非用户主动暂停。所以如果给予足够长的时间，LuxCoreRender能给出非常高质量的渲染。同时，在渲染过程中，还可以拖动视角（不过可能要降低渲染分辨率来提高帧率）。</p>
<p>下面来配置FreeCAD。</p>
<h2 id="FreeCAD配置"><a href="#FreeCAD配置" class="headerlink" title="FreeCAD配置"></a>FreeCAD配置</h2><p>首先，在插件管理器中安装Render插件（需要梯子）。</p>
<p><img src="http://www.lxshaw.com/wp-content/uploads/2021/07/image-14-1024x826.png"></p>
<p>下载后，打开Preference进行配置。需要配置的东西很少，在一栏中，填入luxcoreui的路径即可。</p>
<p><img src="http://www.lxshaw.com/wp-content/uploads/2021/07/image-15-708x1024.png"></p>
<h2 id="渲染方式"><a href="#渲染方式" class="headerlink" title="渲染方式"></a>渲染方式</h2><p>以FreeCAD自带建筑例程为例。</p>
<p>首先在WorkBench中选择Render。然后点击Render-Projects-Luxcore projects。由于是建筑，选择一个sunlight模板效果好一点。</p>
<p><img src="http://www.lxshaw.com/wp-content/uploads/2021/07/image-16-1024x695.png"></p>
<p>左边组合浏览器会出现一个Luxcore Project。</p>
<p><img src="http://www.lxshaw.com/wp-content/uploads/2021/07/image-17.png"></p>
<p>接下来选择要导入Luxcore Project的物体。在这里，我们按住ctrl键选择Model文件夹和Luxcore Project，然后选择Render view。</p>
<p><img src="http://www.lxshaw.com/wp-content/uploads/2021/07/image-18.png"></p>
<p><img src="http://www.lxshaw.com/wp-content/uploads/2021/07/image-19.png"></p>
<p>可以看到Luxcore Project下生成了许多模型。</p>
<p><img src="http://www.lxshaw.com/wp-content/uploads/2021/07/image-20.png"></p>
<p>最后选择luxcore project，再点击渲染，就可以开始渲染了。</p>
<p><img src="http://www.lxshaw.com/wp-content/uploads/2021/07/image-21-1024x576.png"></p>
<p>点击film-save output可以保存渲染结果，默认保存在用户主文件夹下。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/07/14/revit-freecad-ignition%E5%B7%A5%E4%BD%9C%E6%B5%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/14/revit-freecad-ignition%E5%B7%A5%E4%BD%9C%E6%B5%81/" class="post-title-link" itemprop="url">Revit-FreeCAD-Ignition工作流</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-14 18:37:37" itemprop="dateCreated datePublished" datetime="2021-07-14T18:37:37+08:00">2021-07-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/" itemprop="url" rel="index"><span itemprop="name">robotics</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/Iginition/" itemprop="url" rel="index"><span itemprop="name">Iginition</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>之前有写过将Revit的模型导入Gazebo的博客，那里面使用的是Lumion Livesync插件来导出的dae文件，但是只能保留模型外观。后来找到一个更为优秀的工作流，并且经过验证在Ignition上可用。大致流程为：</p>
<ol>
<li>Revit: rvt-&gt;ifc</li>
<li>FreeCAD: ifc-&gt;dae</li>
<li>Ignition: dae导入</li>
</ol>
<p>这个工作流的好处在于，整个过程中只用到了FreeCAD这个开源工具，不会被限制。同时，IFC能够保留一部分材质信息（用颜色区分）。但是这个工作流只能应用在比较小的revit文件里。</p>
<p>整个流程基本没有什么难点，需要注意的是在ubuntu下需要下载AppImage版本的FreeCAD，通过apt安装或者snap安装的FreeCad不知道为何无法读取dae文件，可能是python解释器的问题，懒得搞了，贯彻“能用就行主义”。</p>
<p>我们用Revit的两个样例文件来测试一下这个过程，第一个是经典的RevitSample，一个建在山坡上的小房子，有太阳能和风能供能，还有露台、停车库等等，简直是人间仙境啊。我也想住这样的房子。模型文件大小为17.6MB。转化为IFC后，大小为13.1MB，转换时间10分钟不到。使用FreeCad打开过程中一直是CPU跑满的状态，40分钟后也没有打开，非常夸张。所以这个工作流对于大规模场景是不适用的。对于大规模场景，以下工作流：</p>
<ol>
<li>Lumion Livesync: rvt-&gt;dae</li>
<li>blender: dae-&gt;dae</li>
<li>FreeCAD: dae-&gt;dae</li>
</ol>
<p>如此一来能够保留能够区分出材质的模型。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/07/13/igntion-gazebo%EF%BC%9A%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/13/igntion-gazebo%EF%BC%9A%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">Igntion-Gazebo：插件的使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-13 23:58:59" itemprop="dateCreated datePublished" datetime="2021-07-13T23:58:59+08:00">2021-07-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/" itemprop="url" rel="index"><span itemprop="name">robotics</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/Iginition/" itemprop="url" rel="index"><span itemprop="name">Iginition</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在Ignition里，插件和系统的意义逐渐靠拢。Ignition和Gazebo比起来，就好像中国空间站和国际空间站，前者模块化程度更高，即使是Ignition的核心功能，说白了也就是一个主要插件。比如加载一个默认世界的时候，Ignition会加载Physcis Engine插件，用来物理仿真；加载Rendering插件，用来渲染3D世界；加载GUI插件，用来可视化仿真。</p>
<p>这一章主要展示如何综合使用Ignition自定义的一些插件，可以直接参照<a target="_blank" rel="noopener" href="https://ignitionrobotics.org/api/gazebo/5.1/triggeredpublisher.html%E3%80%82">https://ignitionrobotics.org/api/gazebo/5.1/triggeredpublisher.html。</a></p>
<p>范例中给出以下仿真功能：一个小车进入指定区域后，一个方块落下；前者落下后，后者也落下。主要使用了以下插件：</p>
<ol>
<li>DiffDrive，差速器系统，用来控制小车；</li>
<li>TriggeredPublisher，触发发布系统，在从一个Topic获得一个指定命令后，向另一个Topic发布一条消息；</li>
<li>TouchPlugin，触碰触发系统，添加在触碰传感器上，与指定model碰撞后，向一个特定Topic发布一条消息；</li>
<li>DetachableJoint，解除链接系统，从一个指定Topic获得一个指定命令后，解除两个link之间的链接（如果有的话）。</li>
</ol>
<p>来看看整个SDF的代码：</p>
<?xml version="1.0" ?>
<!--
Ignition Gazebo Trigger Publisher demo

Send the command:
  ign topic -t "/start" -m ignition.msgs.Empty -p " "

The vehicle should start moving while the two boxes remain floating. When the
vehicle crosses the line on the ground, the first box should start falling.
Five simulation seconds after the box hits the ground, the second box should
start falling.

-->
<sdf version="1.6">
  <world name="triggered\_publisher">

<pre><code>&lt;physics name=&quot;1ms&quot; type=&quot;ignored&quot;&gt;
  &lt;max\_step\_size&gt;0.001&lt;/max\_step\_size&gt;
  &lt;real\_time\_factor&gt;1.0&lt;/real\_time\_factor&gt;
&lt;/physics&gt;
&lt;plugin
  filename=&quot;ignition-gazebo-physics-system&quot;
  name=&quot;ignition::gazebo::systems::Physics&quot;&gt;
&lt;/plugin&gt;
&lt;plugin
  filename=&quot;ignition-gazebo-contact-system&quot;
  name=&quot;ignition::gazebo::systems::Contact&quot;&gt;
&lt;/plugin&gt;
&lt;plugin
  filename=&quot;ignition-gazebo-user-commands-system&quot;
  name=&quot;ignition::gazebo::systems::UserCommands&quot;&gt;
&lt;/plugin&gt;
&lt;plugin
  filename=&quot;ignition-gazebo-scene-broadcaster-system&quot;
  name=&quot;ignition::gazebo::systems::SceneBroadcaster&quot;&gt;
&lt;/plugin&gt;
&lt;plugin
  filename=&quot;ignition-gazebo-altimeter-system&quot;
  name=&quot;ignition::gazebo::systems::Altimeter&quot;&gt;
&lt;/plugin&gt;

&lt;gui fullscreen=&quot;0&quot;&gt;

  &lt;!-- 3D scene --&gt;
  &lt;plugin filename=&quot;GzScene3D&quot; name=&quot;3D View&quot;&gt;
    &lt;ignition-gui&gt;
      &lt;title&gt;3D View&lt;/title&gt;
      &lt;property type=&quot;bool&quot; key=&quot;showTitleBar&quot;&gt;false&lt;/property&gt;
      &lt;property type=&quot;string&quot; key=&quot;state&quot;&gt;docked&lt;/property&gt;
    &lt;/ignition-gui&gt;

    &lt;engine&gt;ogre2&lt;/engine&gt;
    &lt;scene&gt;scene&lt;/scene&gt;
    &lt;ambient\_light&gt;0.4 0.4 0.4&lt;/ambient\_light&gt;
    &lt;background\_color&gt;0.8 0.8 0.8&lt;/background\_color&gt;
    &lt;camera\_pose&gt;3 -9 9 0 0.6 1.3&lt;/camera\_pose&gt;
  &lt;/plugin&gt;

  &lt;!-- World control --&gt;
  &lt;plugin filename=&quot;WorldControl&quot; name=&quot;World control&quot;&gt;
    &lt;ignition-gui&gt;
      &lt;title&gt;World control&lt;/title&gt;
      &lt;property type=&quot;bool&quot; key=&quot;showTitleBar&quot;&gt;false&lt;/property&gt;
      &lt;property type=&quot;bool&quot; key=&quot;resizable&quot;&gt;false&lt;/property&gt;
      &lt;property type=&quot;double&quot; key=&quot;height&quot;&gt;72&lt;/property&gt;
      &lt;property type=&quot;double&quot; key=&quot;width&quot;&gt;121&lt;/property&gt;
      &lt;property type=&quot;double&quot; key=&quot;z&quot;&gt;1&lt;/property&gt;

      &lt;property type=&quot;string&quot; key=&quot;state&quot;&gt;floating&lt;/property&gt;
      &lt;anchors target=&quot;3D View&quot;&gt;
        &lt;line own=&quot;left&quot; target=&quot;left&quot;/&gt;
        &lt;line own=&quot;bottom&quot; target=&quot;bottom&quot;/&gt;
      &lt;/anchors&gt;
    &lt;/ignition-gui&gt;

    &lt;play\_pause&gt;true&lt;/play\_pause&gt;
    &lt;step&gt;true&lt;/step&gt;
    &lt;start\_paused&gt;true&lt;/start\_paused&gt;

  &lt;/plugin&gt;

  &lt;!-- World statistics --&gt;
  &lt;plugin filename=&quot;WorldStats&quot; name=&quot;World stats&quot;&gt;
    &lt;ignition-gui&gt;
      &lt;title&gt;World stats&lt;/title&gt;
      &lt;property type=&quot;bool&quot; key=&quot;showTitleBar&quot;&gt;false&lt;/property&gt;
      &lt;property type=&quot;bool&quot; key=&quot;resizable&quot;&gt;false&lt;/property&gt;
      &lt;property type=&quot;double&quot; key=&quot;height&quot;&gt;110&lt;/property&gt;
      &lt;property type=&quot;double&quot; key=&quot;width&quot;&gt;290&lt;/property&gt;
      &lt;property type=&quot;double&quot; key=&quot;z&quot;&gt;1&lt;/property&gt;

      &lt;property type=&quot;string&quot; key=&quot;state&quot;&gt;floating&lt;/property&gt;
      &lt;anchors target=&quot;3D View&quot;&gt;
        &lt;line own=&quot;right&quot; target=&quot;right&quot;/&gt;
        &lt;line own=&quot;bottom&quot; target=&quot;bottom&quot;/&gt;
      &lt;/anchors&gt;
    &lt;/ignition-gui&gt;

    &lt;sim\_time&gt;true&lt;/sim\_time&gt;
    &lt;real\_time&gt;true&lt;/real\_time&gt;
    &lt;real\_time\_factor&gt;true&lt;/real\_time\_factor&gt;
    &lt;iterations&gt;true&lt;/iterations&gt;

  &lt;/plugin&gt;

&lt;/gui&gt;

&lt;light type=&quot;directional&quot; name=&quot;sun&quot;&gt;
  &lt;cast\_shadows&gt;true&lt;/cast\_shadows&gt;
  &lt;pose&gt;0 0 10 0 0 0&lt;/pose&gt;
  &lt;diffuse&gt;1 1 1 1&lt;/diffuse&gt;
  &lt;specular&gt;0.5 0.5 0.5 1&lt;/specular&gt;
  &lt;attenuation&gt;
    &lt;range&gt;1000&lt;/range&gt;
    &lt;constant&gt;0.9&lt;/constant&gt;
    &lt;linear&gt;0.01&lt;/linear&gt;
    &lt;quadratic&gt;0.001&lt;/quadratic&gt;
  &lt;/attenuation&gt;
  &lt;direction&gt;0.05 -0.1 -0.9&lt;/direction&gt;
&lt;/light&gt;

&lt;model name=&quot;ground\_plane&quot;&gt;
 ......
&lt;/model&gt;

&lt;model name=&#39;vehicle\_blue&#39;&gt;
 ......
  &lt;plugin
    filename=&quot;ignition-gazebo-diff-drive-system&quot;
    name=&quot;ignition::gazebo::systems::DiffDrive&quot;&gt;
    &lt;left\_joint&gt;front\_left\_wheel\_joint&lt;/left\_joint&gt;
    &lt;left\_joint&gt;rear\_left\_wheel\_joint&lt;/left\_joint&gt;
    &lt;right\_joint&gt;front\_right\_wheel\_joint&lt;/right\_joint&gt;
    &lt;right\_joint&gt;rear\_right\_wheel\_joint&lt;/right\_joint&gt;
    &lt;wheel\_separation&gt;1.25&lt;/wheel\_separation&gt;
    &lt;wheel\_radius&gt;0.3&lt;/wheel\_radius&gt;
    &lt;topic&gt;cmd\_vel&lt;/topic&gt;
  &lt;/plugin&gt;
&lt;/model&gt;

&lt;model name=&quot;trigger&quot;&gt;
  ......
  &lt;plugin
    filename=&quot;ignition-gazebo-touchplugin-system&quot;
    name=&quot;ignition::gazebo::systems::TouchPlugin&quot;&gt;
    &lt;target&gt;vehicle\_blue&lt;/target&gt;
    &lt;namespace&gt;trigger&lt;/namespace&gt;
    &lt;time&gt;0.001&lt;/time&gt;
    &lt;enabled&gt;true&lt;/enabled&gt;
  &lt;/plugin&gt;
  &lt;plugin filename=&quot;ignition-gazebo-detachable-joint-system&quot; name=&quot;ignition::gazebo::systems::DetachableJoint&quot;&gt;
    &lt;parent\_link&gt;body&lt;/parent\_link&gt;
    &lt;child\_model&gt;box1&lt;/child\_model&gt;
    &lt;child\_link&gt;box\_body&lt;/child\_link&gt;
    &lt;topic&gt;/box1/detach&lt;/topic&gt;
  &lt;/plugin&gt;
  &lt;plugin filename=&quot;ignition-gazebo-detachable-joint-system&quot; name=&quot;ignition::gazebo::systems::DetachableJoint&quot;&gt;
    &lt;parent\_link&gt;body&lt;/parent\_link&gt;
    &lt;child\_model&gt;box2&lt;/child\_model&gt;
    &lt;child\_link&gt;box\_body&lt;/child\_link&gt;
    &lt;topic&gt;/box2/detach&lt;/topic&gt;
  &lt;/plugin&gt;
&lt;/model&gt;

&lt;model name=&quot;box1&quot;&gt;
  ......
    &lt;sensor name=&quot;altimeter\_sensor&quot; type=&quot;altimeter&quot;&gt;
      &lt;topic&gt;/altimeter&lt;/topic&gt;
      &lt;always\_on&gt;1&lt;/always\_on&gt;
      &lt;update\_rate&gt;30&lt;/update\_rate&gt;
      &lt;visualize&gt;true&lt;/visualize&gt;
    &lt;/sensor&gt;
  &lt;/link&gt;
&lt;/model&gt;

&lt;model name=&quot;box2&quot;&gt;
  ......
&lt;/model&gt;

&lt;plugin filename=&quot;ignition-gazebo-triggered-publisher-system&quot; name=&quot;ignition::gazebo::systems::TriggeredPublisher&quot;&gt;
  &lt;input type=&quot;ignition.msgs.Empty&quot; topic=&quot;/start&quot;/&gt;
  &lt;output type=&quot;ignition.msgs.Twist&quot; topic=&quot;/cmd\_vel&quot;&gt;
      linear: &#123;x: 3&#125;
  &lt;/output&gt;
&lt;/plugin&gt;
&lt;plugin filename=&quot;ignition-gazebo-triggered-publisher-system&quot; name=&quot;ignition::gazebo::systems::TriggeredPublisher&quot;&gt;
  &lt;input type=&quot;ignition.msgs.Boolean&quot; topic=&quot;/trigger/touched&quot;&gt;
    &lt;match&gt;data: true&lt;/match&gt;
  &lt;/input&gt;
  &lt;output type=&quot;ignition.msgs.Empty&quot; topic=&quot;/box1/detach&quot;/&gt;
&lt;/plugin&gt;
&lt;plugin filename=&quot;ignition-gazebo-triggered-publisher-system&quot; name=&quot;ignition::gazebo::systems::TriggeredPublisher&quot;&gt;
  &lt;input type=&quot;ignition.msgs.Altimeter&quot; topic=&quot;/altimeter&quot;&gt;
    &lt;match field=&quot;vertical\_position&quot; tol=&quot;0.2&quot;&gt;-7.5&lt;/match&gt;
  &lt;/input&gt;
  &lt;delay\_ms&gt;5000&lt;/delay\_ms&gt;
  &lt;output type=&quot;ignition.msgs.Empty&quot; topic=&quot;/box2/detach&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
</world>
</sdf>

<p>我们需要关注的是：</p>
<ol>
<li>vehicle_blue下的DiffDrive插件。使用DiffDrive插件时，需要指定左右轮、左右轮间距、轮半径。该示例中，还修改了此插件subscribe的Topic，变为cmd_vel。向该话题发送消息则可以控制插件。</li>
<li>trigger的touchplugin插件。使用时需要指定碰撞对象和namespace，示例中会在vehicle_blue碰撞时，向<strong>trigger&#x2F;touch</strong>发送一条消息。</li>
<li>trigger的detachablejoint插件。使用时需要制定父link、子link以及子link所属的模型。同时还要制定subscribe的topic。示例中topic为&#x2F;box1&#x2F;detach，以及&#x2F;box2&#x2F;detach。</li>
<li>放在world下的几个插件。Physics提供物理仿真功能。Usercommand提供命令行指令功能。Contact提供对contact sensor的支持。Altimeter提供对altimeter sensor的支持。</li>
<li>TriggeredPubliser插件。TriggerPublisher需要指定input toipic，也就是subscribe的topic；output topic，也就是要publish的topic；match，也就是指定的触发消息；还可以指定delay，也就是收到触发消息多少时间后再publish消息。示例中一共有三个triggerpublisher：<ol>
<li>input: &#x2F;start-&gt;empty; output:&#x2F;cmd_vel-&gt;linear: {x: 3}</li>
<li>input:&#x2F;trigger&#x2F;touched-&gt;data: true; output:&#x2F;box1&#x2F;detach-&gt;empty</li>
<li>input:&#x2F;altimeter-&gt;-7.5(field&#x3D;”vertical_position” tol&#x3D;”0.2”); output:&#x2F;box2&#x2F;detach-&gt;empty</li>
</ol>
</li>
</ol>
<p>所以其实可以把triggerpublisher当做一个if-do的工具。这三个triggerpublisher分别执行了：</p>
<ol>
<li>如果在&#x2F;start收到empty命令，则控制小车的速度为3；</li>
<li>如果&#x2F;trigger&#x2F;touched收到true消息，则向&#x2F;box1&#x2F;detach发送empty命令；</li>
<li>如果&#x2F;altimeter中数值达到-7.5，则向&#x2F;box2&#x2F;detach发送empty命令.</li>
</ol>
<p>结合其他插件的内键功能，则完成了示例文件中的功能。使用</p>
<p>ign gazebo triggered_publisher.sdf</p>
<p>开启模拟。新开一个终端，输入：</p>
<p>ign topic -t “&#x2F;start” -m ignition.msgs.Empty -p “ “</p>
<p>则小车开始运动。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/07/12/ignition-gazebo%EF%BC%881%EF%BC%89%E6%8F%92%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/12/ignition-gazebo%EF%BC%881%EF%BC%89%E6%8F%92%E4%BB%B6/" class="post-title-link" itemprop="url">Ignition-Gazebo（1）插件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-12 11:35:49" itemprop="dateCreated datePublished" datetime="2021-07-12T11:35:49+08:00">2021-07-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/" itemprop="url" rel="index"><span itemprop="name">robotics</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/Iginition/" itemprop="url" rel="index"><span itemprop="name">Iginition</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Ignition Gazebo的插件和Gazebo基本相同。不同点在于，在Gazebo中区分为Actor、Model、World等的插件类型，统一被归为SystemPlugin。除此之外，支持RenderPlugin，也就是在用户端的界面上可以自行增加插件。</p>
<h2 id="System-Plugin"><a href="#System-Plugin" class="headerlink" title="System Plugin"></a>System Plugin</h2><p>首先编写一个System Plugin模板，在里面定义Plugin的各种方法。</p>
<p>#include &lt;ignition&#x2F;gazebo&#x2F;System.hh&gt;<br>namespace sample_system<br>{<br>  class SampleSystem:<br>    &#x2F;&#x2F; This class is a system.<br>    public ignition::gazebo::System,<br>    &#x2F;&#x2F; This class also implements the ISystemPostUpdate interface.<br>    public ignition::gazebo::ISystemPostUpdate</p>
<p>首先要确定Plugin要从哪些父类中继承。除了system是必须要继承的以外，还有四种类型可选：</p>
<ol>
<li>ISystemConfigure，载入PLugin时执行一些任务，可以用来读SDF等；</li>
<li>ISystemPreUpdate，在每一个模拟帧之前执行一些任务；</li>
<li>ISystemUpdate，在每一个模拟帧内执行任务，这是物理仿真的核心；</li>
<li>ISystemPostUpdate，在每一个模拟帧之后捕捉所有指定数据，这是交互-调整从而进行控制的核心。</li>
</ol>
<p>可以看到上面这个插件只继承PostUpdate。然后写入方法：</p>
<p>  {<br>    public: SampleSystem();<br>    public: ~SampleSystem() override;<br>    public: void PostUpdate(const ignition::gazebo::UpdateInfo &amp;_info,<br>                const ignition::gazebo::EntityComponentManager &amp;_ecm) override;<br>  };</p>
<p>如果继承多个的，则像下面这样写：</p>
<p>  class SampleSystem2:<br>    &#x2F;&#x2F; This class is a system.<br>    public ignition::gazebo::System,<br>    &#x2F;&#x2F; This class also implements the ISystemPreUpdate, ISystemUpdate,<br>    &#x2F;&#x2F; and ISystemPostUpdate interfaces.<br>    public ignition::gazebo::ISystemPreUpdate,<br>    public ignition::gazebo::ISystemUpdate,<br>    public ignition::gazebo::ISystemPostUpdate<br>  {<br>    public: SampleSystem2();<br>    public: ~SampleSystem2() override;<br>    public: void PreUpdate(const ignition::gazebo::UpdateInfo &amp;_info,<br>                ignition::gazebo::EntityComponentManager &amp;_ecm) override;<br>    public: void Update(const ignition::gazebo::UpdateInfo &amp;_info,<br>                ignition::gazebo::EntityComponentManager &amp;_ecm) override;<br>    public: void PostUpdate(const ignition::gazebo::UpdateInfo &amp;_info,<br>                const ignition::gazebo::EntityComponentManager &amp;_ecm) override;<br>  };<br>}</p>
<p>把上面三段复制到一起完成SampleSystem.hh文件。</p>
<p>在cpp原文件中，如果Plugin只继承一种类型，则include Register.hh这个模板：</p>
<p>#include “SampleSystem.hh”<br>#include &lt;ignition&#x2F;plugin&#x2F;Register.hh&gt;<br>&#x2F;&#x2F; Include a line in your source file for each interface implemented.<br>IGNITION_ADD_PLUGIN(<br>    sample_system::SampleSystem,<br>    ignition::gazebo::System,<br>    sample_system::SampleSystem::ISystemPostUpdate)</p>
<p>using namespace sample_system;<br>SampleSystem::SampleSystem()<br>{<br>}<br>SampleSystem::~SampleSystem()<br>{<br>}<br>void SampleSystem::PostUpdate(const ignition::gazebo::UpdateInfo &amp;_info,<br>    const ignition::gazebo::EntityComponentManager &amp;_ecm)<br>{<br>  ignmsg &lt;&lt; “SampleSystem::PostUpdate” &lt;&lt; std::endl;<br>}</p>
<p>使用IGNITION_ADD_PLUGIN来注册plugin，并且编写函数内容。上面这个插件在每次模拟帧之后打印一个语句。</p>
<p>CMakeLists文件如下：</p>
<p>cmake_minimum_required(VERSION 3.10.2 FATAL_ERROR)</p>
<p>find_package(ignition-cmake2 REQUIRED)</p>
<p>project(SampleSystem)</p>
<p>find_package(ignition-plugin1 REQUIRED COMPONENTS register)<br>set(CMAKE_PREFIX_PATH)<br>set(IGN_PLUGIN_VER ${ignition-plugin1_VERSION_MAJOR})</p>
<p>find_package(ignition-gazebo6 REQUIRED)<br>add_library(SampleSystem SHARED SampleSystem.cpp SampleSystem2.cpp)<br>set_property(TARGET SampleSystem PROPERTY CXX_STANDARD 17)<br>target_link_libraries(SampleSystem<br>  PRIVATE ignition-plugin${IGN_PLUGIN_VER}::ignition-plugin${IGN_PLUGIN_VER}<br>  PRIVATE ignition-gazebo6::ignition-gazebo6)</p>
<p>在运行前，使用命令export IGN_GAZEBO_SYSTEM_PLUGIN_PATH&#x3D;<code>pwd</code>&#x2F;build来将插件加入环境变量。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/07/12/%E6%88%91%E7%9A%84ubuntu%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/12/%E6%88%91%E7%9A%84ubuntu%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="post-title-link" itemprop="url">我的Ubuntu操作系统</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-12 11:12:02" itemprop="dateCreated datePublished" datetime="2021-07-12T11:12:02+08:00">2021-07-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bolgs/" itemprop="url" rel="index"><span itemprop="name">bolgs</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bolgs/%E6%9D%82%E8%B0%88/" itemprop="url" rel="index"><span itemprop="name">杂谈</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/thought/" itemprop="url" rel="index"><span itemprop="name">thought</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/thought/%E6%96%B0%E9%B2%9C%E4%BA%8B/" itemprop="url" rel="index"><span itemprop="name">新鲜事</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>先上图：</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/07/1.png"></p>
<p>这不比windows好看？</p>
<p>原生Linux软件：</p>
<ol>
<li>网易云音乐</li>
<li>搜狗拼音</li>
<li>VS Code</li>
<li>Blender</li>
<li>Matlab</li>
<li>Steam</li>
</ol>
<p>替代软件：</p>
<ol>
<li>GNU Imager - Photoshop</li>
<li>FreeCAD - Solidworks</li>
<li>Libreoffice - MS Office</li>
<li>Zotero - EndNote</li>
<li>Wonderwall - wallpaper engine</li>
</ol>
<p>在wine中运行的Windows软件：</p>
<ol>
<li>deepin-wine+微信</li>
<li>WineGame+Battlenet（效果一般）</li>
<li>Proton+几乎所有Steam游戏</li>
</ol>
<p>无法替代的Windows软件：</p>
<ol>
<li>AutoDesk系列</li>
</ol>
<p>Gnome插件：</p>
<ol>
<li>Dash to dock</li>
<li>Desktop icons</li>
<li>Simple net speed</li>
<li>Sound input chooser</li>
<li>Topicon Plus</li>
<li>Transparent top bar</li>
<li>Application menu</li>
<li>User thems</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/07/10/ignition-math%EF%BC%88%E4%B8%8A%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/10/ignition-math%EF%BC%88%E4%B8%8A%EF%BC%89/" class="post-title-link" itemprop="url">Ignition-math（上）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-10 18:37:17" itemprop="dateCreated datePublished" datetime="2021-07-10T18:37:17+08:00">2021-07-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/" itemprop="url" rel="index"><span itemprop="name">robotics</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/Iginition/" itemprop="url" rel="index"><span itemprop="name">Iginition</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>介绍Ignition Math Library的类使用方法。这一章里，主要介绍几何体与向量、矩阵，包括立体几何体、平面几何体，以及向量、矩阵的使用。</p>
<h1 id="立体几何体"><a href="#立体几何体" class="headerlink" title="立体几何体"></a>立体几何体</h1><h2 id="AxisAlignedBox"><a href="#AxisAlignedBox" class="headerlink" title="AxisAlignedBox"></a>AxisAlignedBox</h2><p>AxisAlignedBox用于生成一个立方体。</p>
<h3 id="声明方式"><a href="#声明方式" class="headerlink" title="声明方式"></a>声明方式</h3><p>ignition::math::AxisAlignedBox abox &#x3D; ignition::math::AxisAlignedBox(0,0,0,1,1,1);</p>
<p>0，0，0和1，1，1是立方体的两个对角。</p>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><ol>
<li>AxisAlignedBox.Center() 返回立方体的中心点坐标</li>
<li>AxisAlignedBox.Contains() 返回一个bool量，是否有一点存在于立方体区域中</li>
<li>AxisAlignedBox.IntersectCheck() 返回一个bool量，是否有射线穿过立方体区域，可以设定最小值“安全区域”，进入距离立方体安全区域的范围内则返回1. 另，参阅IntersectDist方法。</li>
<li>AxisAlignedBox.Intersects() 返回一个bool量，是否两个立方体存在重叠。</li>
<li>AxisAlignedBox.Merge() void函数，将两个立方体融合，分别取两者MIn中的最小值和Max中的最大值。</li>
<li>Max、Min、Size、Volume、XLength、YLength、ZLength，各类属性</li>
</ol>
<h2 id="Box"><a href="#Box" class="headerlink" title="Box"></a>Box</h2><h3 id="声明方式-1"><a href="#声明方式-1" class="headerlink" title="声明方式"></a>声明方式</h3><p>ignition::math::Box box &#x3D; ignition::math::Box(3,4,5)</p>
<p>声明一个长方体，三个数值分别为长宽高。</p>
<h3 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h3><ol>
<li>Box.SetDensityFromMass() 基于指定质量设定密度，如果成功设置，返回bool值1.</li>
<li>Box.DensityFromMass()基于指定质量计算密度，返回密度值.</li>
<li>Box.SetSize() void函数，重设长宽高.</li>
<li>Size，Volume，各类属性</li>
</ol>
<h2 id="Capsule"><a href="#Capsule" class="headerlink" title="Capsule"></a>Capsule</h2><h3 id="声明方式-2"><a href="#声明方式-2" class="headerlink" title="声明方式"></a>声明方式</h3><p>声明一个胶囊体。</p>
<p>ignition::math::Capsule cap &#x3D; ignition::math::Capsule(5, 2)</p>
<p>5为胶囊提的长度，2为半径。</p>
<h3 id="方法-2"><a href="#方法-2" class="headerlink" title="方法"></a>方法</h3><ol>
<li>SetDensityFromMass，DensityFromMass，与box类似；</li>
<li>Length, Radius, Volume各类属性</li>
<li>SetLength，SetRadius，重设属性</li>
</ol>
<h2 id="Sphere"><a href="#Sphere" class="headerlink" title="Sphere"></a>Sphere</h2><h3 id="声明方式-3"><a href="#声明方式-3" class="headerlink" title="声明方式"></a>声明方式</h3><p>声明一个球几何体。</p>
<p>ignition::math::Sphere sph &#x3D; ignition::math::Sphere(5)</p>
<h3 id="方法-3"><a href="#方法-3" class="headerlink" title="方法"></a>方法</h3><ol>
<li>SetDensityFromMass，DensityFromMass，与box类似；</li>
<li>Radius, Volume各类属性</li>
<li>SetRadius，重设属性</li>
</ol>
<h2 id="Cylinder"><a href="#Cylinder" class="headerlink" title="Cylinder"></a>Cylinder</h2><h3 id="声明方式-4"><a href="#声明方式-4" class="headerlink" title="声明方式"></a>声明方式</h3><p>声明一个圆柱体几何体。</p>
<p>ignition::math::Cylinder cyli &#x3D; ignition::math::Cylinder(5, 2)</p>
<p>5为圆柱体的长度，2为半径。</p>
<h3 id="方法-4"><a href="#方法-4" class="headerlink" title="方法"></a>方法</h3><ol>
<li>SetDensityFromMass，DensityFromMass，与box类似；</li>
<li>Length, Radius, Volume各类属性</li>
<li>SetLength，SetRadius，重设属性</li>
</ol>
<h2 id="Ellipsoid"><a href="#Ellipsoid" class="headerlink" title="Ellipsoid"></a>Ellipsoid</h2><h3 id="声明方式-5"><a href="#声明方式-5" class="headerlink" title="声明方式"></a>声明方式</h3><p>声明一个椭圆体。</p>
<p>ignition::math::Ellipsoid ellip &#x3D; ignition::math::Ellipsoid(ignition::math::Vector3(3,4,5))</p>
<p>3,4,5分别为xyz三轴的半径。需要嵌套在一个Vector3类中使用。</p>
<h3 id="方法-5"><a href="#方法-5" class="headerlink" title="方法"></a>方法</h3><ol>
<li>SetDensityFromMass，DensityFromMass，与box类似；</li>
<li>Radii, Volume各类属性</li>
<li>SetRadii，重设属性</li>
</ol>
<h1 id="平面几何"><a href="#平面几何" class="headerlink" title="平面几何"></a>平面几何</h1><h2 id="Angle"><a href="#Angle" class="headerlink" title="Angle"></a>Angle</h2><p>Angle用于表达角度。</p>
<h3 id="声明方式-6"><a href="#声明方式-6" class="headerlink" title="声明方式"></a>声明方式</h3><p>ignition::math::Angle a;</p>
<p>默认角度值为0，以弧度表示。</p>
<h3 id="静态属性"><a href="#静态属性" class="headerlink" title="静态属性"></a>静态属性</h3><ol>
<li>ignition::math::Angle::HalfPi 一个值为pi&#x2F;2的Angle对象，下同。</li>
<li>ignition::math::Angle::Pi</li>
<li>ignition::math::Angle::TwoPi</li>
<li>ignition::math::Angle::Zero</li>
</ol>
<h3 id="方法-6"><a href="#方法-6" class="headerlink" title="方法"></a>方法</h3><ol>
<li>Angle.Degree() 返回角度的角度值；</li>
<li>Angle.Normalized() 将超出180°的角度归化到-180°到180°的范围内；</li>
<li>Angle.SetRadian() 修改角度值；</li>
</ol>
<h2 id="Line2"><a href="#Line2" class="headerlink" title="Line2"></a>Line2</h2><p>一条二维平面上的直线，用两点定义。</p>
<h3 id="声明方式-7"><a href="#声明方式-7" class="headerlink" title="声明方式"></a>声明方式</h3><p>ignition::math::Line2 line &#x3D; ignition::math::Line2(0,0,1,1);</p>
<h3 id="方法-7"><a href="#方法-7" class="headerlink" title="方法"></a>方法</h3><ol>
<li>CrossProduct，返回线与线或点的向量积，返回double类型的数值。</li>
<li>Collinear, 判断线和线或点是否贡献。这个方法有bug，因为它使用CrossProduct返回的double数值与0比较，会发生对象类型与函数预设不同的错误。</li>
<li>Intersect，判断两条线是否交叉，返回布尔值。</li>
<li>OnSegment，判断点是否在线段上，返回布尔值。这个方法也有2中的bug。</li>
<li>Parallel，判断线是否平行，返回布尔值。也有2bug。</li>
<li>Set，重设线。</li>
<li>Slope，返回斜度。</li>
<li>Within，判断一个点是否在线段所属的长方形内，返回布尔值。</li>
</ol>
<h2 id="Line3"><a href="#Line3" class="headerlink" title="Line3"></a>Line3</h2><p>三维空间里的线。</p>
<h3 id="声明方式-8"><a href="#声明方式-8" class="headerlink" title="声明方式"></a>声明方式</h3><p>Line3 line1 &#x3D; Line3(Vector3(0,0,0),Vector3(2,2,2));</p>
<h3 id="方法-8"><a href="#方法-8" class="headerlink" title="方法"></a>方法</h3><ol>
<li>Coplanar，判断两条线是否共面，返回布尔值。</li>
<li>Direction，返回线的方向（移动到原点后另一端的坐标），返回Vector3。</li>
<li>Distance，参数为1.需要比较的另一条线；2.需要寻找的最短的线；3.允许误差。如果能够找到，返回True，否则返回False。</li>
<li>其他方法和Line2类似。</li>
</ol>
<h2 id="Plane"><a href="#Plane" class="headerlink" title="Plane"></a>Plane</h2><p>平面。</p>
<h3 id="声明方式-9"><a href="#声明方式-9" class="headerlink" title="声明方式"></a>声明方式</h3><ol>
<li>Plane plane &#x3D; Plane(Vector3(1,1,1), Vector2(5,5),1)，(1,1,1)为法线，5为平面大小，1为平面偏移量。这样生成的平面面积是有限的。</li>
<li>Plane plane &#x3D; Plane(Vector3(1,1,1)) 此时生成的平面是无限大小的。</li>
</ol>
<h3 id="方法-9"><a href="#方法-9" class="headerlink" title="方法"></a>方法</h3><ol>
<li>Distance，返回一个Vector3点距离平面的位置。</li>
<li>Side，返回一个Vector3点或者AlignAxisBox在平面的哪一侧，返回类型为PlaneSide。</li>
<li>Offset, Size，偏移值、尺寸等属性。</li>
</ol>
<h1 id="向量与矩阵"><a href="#向量与矩阵" class="headerlink" title="向量与矩阵"></a>向量与矩阵</h1><h3 id="Vector2"><a href="#Vector2" class="headerlink" title="Vector2"></a>Vector2</h3><p>一个二维向量。二维向量可以用在平面移动上。</p>
<h3 id="声明方法"><a href="#声明方法" class="headerlink" title="声明方法"></a>声明方法</h3><p>Vector2 vec &#x3D; Vector2<int>(2,1); 默认类型为int。</p>
<h3 id="方法-10"><a href="#方法-10" class="headerlink" title="方法"></a>方法</h3><ol>
<li>Abs，返回绝对值；</li>
<li>AbsDot，返回绝对值的向量积；</li>
<li>Dot，返回向量积；</li>
<li>Distance，返回两个向量之间的距离；</li>
<li>Equal，判断两个向量是否相等（在误差范围内）；</li>
<li>Normalized，返回归一化后的向量值；</li>
<li>Normalize，void函数，归一化向量；</li>
<li>Correct，void函数，清除Nan值；</li>
<li>IsFinite，判断向量是否有Nan值，没有则返回1；</li>
<li>Length（长度），Max（最大值），Min（最小值），Sum（相加），X（X值），SquaredLength（长度的平方），各类属性；</li>
</ol>
<h3 id="成员"><a href="#成员" class="headerlink" title="成员"></a>成员</h3><ol>
<li>ignition::math::Vector2<int> vec0 &#x3D; ignition::math::Vector2<int>::Zero；</li>
<li>ignition::math::Vector2<int> vec0 &#x3D; ignition::math::Vector2<int>::One;</li>
</ol>
<h2 id="Vector3"><a href="#Vector3" class="headerlink" title="Vector3"></a>Vector3</h2><p>三维向量，可以用于空间中的移动。</p>
<h3 id="方法-11"><a href="#方法-11" class="headerlink" title="方法"></a>方法</h3><ol>
<li>Cross，返回叉乘后的数值。</li>
</ol>
<p>其他方法类似Vector2.</p>
<h3 id="成员-1"><a href="#成员-1" class="headerlink" title="成员"></a>成员</h3><ol>
<li>Vector3::UnitX，一个在X分量为1其他都为零的向量。类似的，有UnitY，UnitZ。</li>
</ol>
<p>其他类似Vector2.</p>
<h2 id="Vector4"><a href="#Vector4" class="headerlink" title="Vector4"></a>Vector4</h2><p>四维向量。最后一个量可能用于表示其他属性，比如速度、光照等有矢量性的。</p>
<p>方法和成员均可参考Vector2。</p>
<p>待补完</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/07/07/linux%E4%B8%8B%E4%BD%BF%E7%94%A8vscode%E4%B8%8Eg%E7%BC%96%E8%AF%91%E6%97%B6%E6%8C%87%E5%AE%9Ac%E7%89%88%E6%9C%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/07/linux%E4%B8%8B%E4%BD%BF%E7%94%A8vscode%E4%B8%8Eg%E7%BC%96%E8%AF%91%E6%97%B6%E6%8C%87%E5%AE%9Ac%E7%89%88%E6%9C%AC/" class="post-title-link" itemprop="url">Linux下使用VScode与g++编译时指定C++版本</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-07 21:29:47" itemprop="dateCreated datePublished" datetime="2021-07-07T21:29:47+08:00">2021-07-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/" itemprop="url" rel="index"><span itemprop="name">robotics</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/Iginition/" itemprop="url" rel="index"><span itemprop="name">Iginition</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在Vscode的插件商店里找到Code Runner这个插件，可以快速地编译并运行cpp文件。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/07/image-5-1024x290.png"></p>
<p>但是编译时出现下面这个问题：</p>
<p>&#x2F;usr&#x2F;include&#x2F;ignition&#x2F;math&#x2F;Capsule.hh:91:20: error: ‘optional’ in namespace ‘std’ does not name a template type<br>   91        public: std::optional&lt; MassMatrix3<Precision> &gt; MassMatrix() const;<br>&#x2F;usr&#x2F;include&#x2F;ignition&#x2F;math&#x2F;Capsule.hh:91:15: note: ‘std::optional’ is only available from C++17 onwards<br>   91        public: std::optional&lt; MassMatrix3<Precision> &gt; MassMatrix() const;</p>
<p>也就是说代码里有g++识别不出来的新特性。我的g++版本为9，理论上是肯定支持c++17的：</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/07/image-6-1024x461.png"></p>
<p>所以需要对code runner的配置进行修改。在插件的设置页面里找到Executor Map：</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/07/image-7-1024x164.png"></p>
<p>在cpp这一行加入std&#x3D;c++17即可：</p>
<p>“cpp”: “cd $dir &amp;&amp; g++ -std&#x3D;c++17 $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt”,</p>
<p>成功运行：</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/07/image-8-1024x78.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/07/05/%E5%9C%A8ubuntu%E4%B8%8A%E6%84%89%E5%BF%AB%E5%9C%B0%E4%BD%BF%E7%94%A8%E5%BE%AE%E4%BF%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/05/%E5%9C%A8ubuntu%E4%B8%8A%E6%84%89%E5%BF%AB%E5%9C%B0%E4%BD%BF%E7%94%A8%E5%BE%AE%E4%BF%A1/" class="post-title-link" itemprop="url">在Ubuntu上愉快地使用微信</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-05 11:13:56" itemprop="dateCreated datePublished" datetime="2021-07-05T11:13:56+08:00">2021-07-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bolgs/" itemprop="url" rel="index"><span itemprop="name">bolgs</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bolgs/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>很多时候Ubuntu与Windows的差距就只有一个微信。下面带来如何在Ubuntu上愉快地使用deepin-wine wechat。</p>
<h2 id="安装deepin-wine"><a href="#安装deepin-wine" class="headerlink" title="安装deepin-wine"></a>安装deepin-wine</h2><p>deepin-wine可以在Ubuntu系统中创建一个WIndows容器，来运行win32地应用程序。所以其实我们安装的是windows版本的微信。安装deepin-wine的教程，参考项目制作人<a target="_blank" rel="noopener" href="https://gitee.com/wszqkzqk">星外之神</a> &#x2F; <a target="_blank" rel="noopener" href="https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu">deepin-wine-for-ubuntu</a>的原版教程。</p>
<h4 id="本地安装-Ubuntu-Debian通用"><a href="#本地安装-Ubuntu-Debian通用" class="headerlink" title="本地安装(Ubuntu&#x2F;Debian通用)"></a>本地安装(Ubuntu&#x2F;Debian通用)</h4><ul>
<li>克隆 (<code>git clone https://github.com/wszqkzqk/deepin-wine-ubuntu.git</code>) 或<a target="_blank" rel="noopener" href="https://github.com/wszqkzqk/deepin-wine-ubuntu/archive/master.zip">下载</a>到本地。</li>
<li>在中国推荐用下面的地址，速度更快： (<code>git clone https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu.git</code>)</li>
<li>当然也可以选择下载releases：<a target="_blank" rel="noopener" href="https://github.com/wszqkzqk/deepin-wine-ubuntu/releases">Github</a> 或者 <a target="_blank" rel="noopener" href="https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu/releases">Gitee</a></li>
<li>解压后切换到解压文件目录，在终端中运行（授予可执行权限后）： <code>./install.sh</code> KDE或其他按照普通安装方式安装后运行出现X错误的桌面环境执行 <code>./KDE-install.sh</code> ）。</li>
</ul>
<h2 id="安装wechat"><a href="#安装wechat" class="headerlink" title="安装wechat"></a>安装wechat</h2><p>点击下面的链接下载wechat：</p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu#https://gitee.com/wszqkzqk/deepin-wine-containers-for-ubuntu/raw/master/deepin.com.wechat\_2.6.8.65deepin0\_i386.deb">https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu#https://gitee.com/wszqkzqk/deepin-wine-containers-for-ubuntu/raw/master/deepin.com.wechat\_2.6.8.65deepin0\_i386.deb</a></p>
<p>微信的版本还是比较低的，不支持小程序、朋友圈。下载deb安装包后，不要直接用自带软件安装，使用dpkg命令，例如</p>
<p>sudo dpkg -i deepin.com.wechat_2.6.8.65deepin0_i386.deb</p>
<h2 id="配置wechat"><a href="#配置wechat" class="headerlink" title="配置wechat"></a>配置wechat</h2><p>下面是在ubuntu20.04的系统下对wechat进行的配置。</p>
<h3 id="中文乱码问题"><a href="#中文乱码问题" class="headerlink" title="中文乱码问题"></a>中文乱码问题</h3><p>刚安装好后，中文显示都是黑色方格。需要修改两个地方：</p>
<p>1. 修改配置</p>
<p>gedit &#x2F;opt&#x2F;deepinwine&#x2F;tools&#x2F;run_v2.sh</p>
<p>找到WINE_CMD，修改为：</p>
<p>WINE_CMD&#x3D;”LC_ALL&#x3D;zh_CN.UTF-8 deepin-wine”</p>
<p>2. 安装字体</p>
<p>deepin-wine默认使用文泉驿的几个字体，安装相关字体后重启微信即可。</p>
<p>sudo apt install fonts-wqy-microhei fonts-wqy-zenhei xfonts-wqy</p>
<h3 id="高分屏缩放问题"><a href="#高分屏缩放问题" class="headerlink" title="高分屏缩放问题"></a>高分屏缩放问题</h3><p>开启配置窗口：</p>
<p>env WINEPREFIX&#x3D;”$HOME&#x2F;.deepinwine&#x2F;Deepin-WeChat” &#x2F;usr&#x2F;bin&#x2F;deepin-wine winecfg</p>
<p>在Graphics选项卡中调整resolution。</p>
<h3 id="图片无法显示问题"><a href="#图片无法显示问题" class="headerlink" title="图片无法显示问题"></a>图片无法显示问题</h3><p>安装以下库：</p>
<p>sudo apt install libjpeg62:i386</p>
<h3 id="隐藏wine图标"><a href="#隐藏wine图标" class="headerlink" title="隐藏wine图标"></a>隐藏wine图标</h3><p>这个问题不影响使用。开启微信后会有一个wine图标悬浮，无法最小化，有碍观瞻。解决方式是安装一个gnome插件：topicon plus。</p>
<p>如此一来deepin-wechat就可以实现windows下wechat的大部分功能了，当然还有一些小毛病，比如不能显示emoji，还有总会有一个wine的窗口悬浮在桌面上。但是如果你想要deepin-wine wechat做到尽善尽美是不可能的，如果一定要让ubuntu做它不适合做的事情，那么就需要把你的要求降低到“能用就行”。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/07/04/%E6%90%AC%E8%BF%90%EF%BC%9Aopen-robotics-2020%E8%AE%B2%E5%BA%A7%EF%BC%8Cros2-eloquent-and-ignition-citadel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/04/%E6%90%AC%E8%BF%90%EF%BC%9Aopen-robotics-2020%E8%AE%B2%E5%BA%A7%EF%BC%8Cros2-eloquent-and-ignition-citadel/" class="post-title-link" itemprop="url">搬运：Open Robotics 2020讲座，ROS2 Eloquent and Ignition Citadel</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-04 00:01:18" itemprop="dateCreated datePublished" datetime="2021-07-04T00:01:18+08:00">2021-07-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/" itemprop="url" rel="index"><span itemprop="name">robotics</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/Iginition/" itemprop="url" rel="index"><span itemprop="name">Iginition</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/Iginition/ROS/" itemprop="url" rel="index"><span itemprop="name">ROS</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/13/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Xiao Lin</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">173</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">分类</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="/linxiaoshaw@foxmail.com" title="E-Mail → linxiaoshaw@foxmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiao Lin</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"wonderful-sea-04900b000.6.azurestaticapps.net","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Shawn Lin&#39;s Blog">
<meta property="og:url" content="https://wonderful-sea-04900b000.6.azurestaticapps.net/page/13/index.html">
<meta property="og:site_name" content="Shawn Lin&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Xiao Lin">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/page/13/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Shawn Lin's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Shawn Lin's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/07/02/%E7%94%A8endnote%E7%AE%80%E5%8C%96%E6%96%87%E7%8C%AE%E8%B0%83%E6%95%B4%E5%B7%A5%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/02/%E7%94%A8endnote%E7%AE%80%E5%8C%96%E6%96%87%E7%8C%AE%E8%B0%83%E6%95%B4%E5%B7%A5%E4%BD%9C/" class="post-title-link" itemprop="url">用Endnote简化文献调整工作</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-02 19:37:59" itemprop="dateCreated datePublished" datetime="2021-07-02T19:37:59+08:00">2021-07-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E8%B4%B4/" itemprop="url" rel="index"><span itemprop="name">技术贴</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>每一个科研狗都免不了帮师兄&#x2F;师姐调文献格式，要是碰上review类型的，动辄近百篇文献，能把人整出点毛病来。但是现在有了Endnote，你可以花二十分钟的时间，就完成原来需要一个小时的任务了！</p>
<h2 id="了解标准格式"><a href="#了解标准格式" class="headerlink" title="了解标准格式"></a>了解标准格式</h2><p>我们以Automation in Construction这篇期刊为例。第一步，要知道标准引用格式是什么样的。期刊网站上一般都会列出。下面这个是Automation in Construction的标准引用格式：</p>
<p><strong><em>Reference style</em></strong><br><em>Text:</em> Indicate references by number(s) in square brackets in line with the text. The actual authors can be referred to, but the reference number(s) must always be given.<br>Example: “….. as demonstrated [3,6]. Barnaby and Jones [8] obtained a different result ….”<br><em>List:</em> Number the references (numbers in square brackets) in the list in the order in which they appear in the text.<br><em>Examples:</em><br>Reference to a journal publication:<br>[1] J. van der Geer, J.A.J. Hanraads, R.A. Lupton, The art of writing a scientific article, J. Sci. Commun. 163 (2000) 51-59.<br>Reference to a book:<br>[2] W. Strunk Jr., E.B. White, The Elements of Style, third ed., Macmillan, New York, 1979.<br>Reference to a chapter in an edited book:<br>[3] G.R. Mettam, L.B. Adams, How to prepare an electronic version of your article, in: B.S. Jones, R.Z. Smith (Eds.), Introduction to the Electronic Age, E-Publishing Inc., New York, 1999, pp. 281-304.<br>Reference ta dataset:<br>[dataset] [4] M. Oguro, S. Imahiro, S. Saito, T. Nakashizuka, Mortality data for Japanese oak wilt disease and surrounding forest compositions, Mendeley Data, v1, 2015. <a target="_blank" rel="noopener" href="http://dx.doi.org/10.17632/xwj98nb39r.1">http://dx.doi.org/10.17632/xwj98nb39r.1</a></p>
<p>了解这个主要是为了以防万一，预设的格式和标准格式有出入。</p>
<h2 id="下载-自制标准Style文件"><a href="#下载-自制标准Style文件" class="headerlink" title="下载&#x2F;自制标准Style文件"></a>下载&#x2F;自制标准Style文件</h2><p>接下来，百度搜索：automation in construction style endnote。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/07/image-1024x549.png"></p>
<p>要是Endnote不提供标准格式呢？要么自己做，要么放弃投这个刊，自己选吧。</p>
<p>下载了样式后导到Endnote里，不知道怎么做的去看我之前的使用指南。然后根据具体要求修改一下格式，比如Automation说”DOI is highly recommended”，那就在格式后面再加上一个DOI。</p>
<h2 id="开始转换"><a href="#开始转换" class="headerlink" title="开始转换"></a>开始转换</h2><p>While len(待修正的文献列表) !&#x3D; 0:</p>
<p>第一步：在百度搜索、百度学术、bing、web of science中搜索文献标题，再冷门的期刊都搜得到，如果搜不到，我就好奇你是从哪里看到的文章了，毕竟连故事会这样都能搜到。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/07/image-1-1024x413.png"></p>
<p>第二步：打开文献页面，选取一个靠谱一点的引用连接。可以选择Research Gate，然后再点击Research Gate里的doi连接转向原页面。Research Gate直接导出的信息往往不准确。也可以选Research Gate后的第一个。如果有doi的连接，就选择doi的连接，能够正确导向原出版商。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/07/image-2-1024x779.png"></p>
<p>第三步，在新页面疯狂搜索cite按钮，小技巧：选择下载RIS。不一定所有网站都支持Endnote import，但是RIS一般都是支持的。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/07/image-3-1024x267.png"></p>
<p>第四步，在Endnote里导入文献，然后补充一些信息，比如有些会议都不知道是在哪里开的，这时候就要搜一下了。</p>
<p>第五步，打开一个word文件，选择Insert Citation。然后把参考文献复制一下贴到师兄师姐给你的文档里去。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/07/image-4-1024x231.png"></p>
<p>文献列表.pop()。</p>
<p>皇天不负有心人，为了文章挂名，冲啊！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/07/01/ignition%E7%9A%84%E5%BA%93%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/01/ignition%E7%9A%84%E5%BA%93%E4%BB%8B%E7%BB%8D/" class="post-title-link" itemprop="url">Ignition的库介绍</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-01 17:04:12" itemprop="dateCreated datePublished" datetime="2021-07-01T17:04:12+08:00">2021-07-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/" itemprop="url" rel="index"><span itemprop="name">robotics</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/Iginition/" itemprop="url" rel="index"><span itemprop="name">Iginition</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Ignition包括下面几个库：</p>
<ul>
<li>Common</li>
<li>Fuel_Tools</li>
<li>gazebo</li>
<li>GUI</li>
<li>launch</li>
<li>Math</li>
<li>Msgs</li>
<li>Physics</li>
<li>plugin</li>
<li>Rendering</li>
<li>SDFormat</li>
<li>Sensors</li>
<li>Transport</li>
<li>utils</li>
</ul>
<p>接下来一个个看这些库都是什么：</p>
<h2 id="Common"><a href="#Common" class="headerlink" title="Common"></a>Common</h2><p>Common这个库提供了一些基本的功能，比如audio-visual这个模块能够支持处理音频和视频文件，graphics模块可以加载3D mesh文件。</p>
<h2 id="Fuel-Tools"><a href="#Fuel-Tools" class="headerlink" title="Fuel_Tools"></a>Fuel_Tools</h2><p>Fuel_Tools是一个与Fuel服务器交互的模块，用于下载、上传模型。</p>
<h2 id="Gazebo"><a href="#Gazebo" class="headerlink" title="Gazebo"></a>Gazebo</h2><p>大名鼎鼎的Gazebo模块，也即是Ignition Gazebo。支持动态的3D模拟，支持各种插件（迁移中），TCP&#x2F;IP通信，加载模型。</p>
<h2 id="GUI"><a href="#GUI" class="headerlink" title="GUI"></a>GUI</h2><p>Ignition GUI基于Qt实现，提供了模拟界面、模块化的界面布局等功能。</p>
<h2 id="Launch"><a href="#Launch" class="headerlink" title="Launch"></a>Launch</h2><p>launch模块提供了运行和管理Ignition应用和插件的功能。类似roslaunch。</p>
<h2 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h2><p>Math模块定义了许多数据格式，比如pose、matrix、vetor等。提供了形状定义的volume、density、size等属性定义。提供了材料属性比如mass、inertial、PID、kmeans等定义。</p>
<h2 id="Msgs"><a href="#Msgs" class="headerlink" title="Msgs"></a>Msgs</h2><p>Msgs定义了在Client与Server之间收发消息的数据格式。</p>
<h2 id="Physics"><a href="#Physics" class="headerlink" title="Physics"></a>Physics</h2><p>Physics模块用于支持在模拟中使用各种各样不同的物理引擎，甚至是用户自定义的物理引擎。</p>
<h2 id="Plugin"><a href="#Plugin" class="headerlink" title="Plugin"></a>Plugin</h2><p>Plugin模块还在开发中，未来会提供plugin的各种模板文件、plugin library。plugin可以用于在不对Ignition核心代码改动的情况下添加各种自己自定义的功能。</p>
<h2 id="Rendering"><a href="#Rendering" class="headerlink" title="Rendering"></a>Rendering</h2><p>Rendering提供了制作3D图形应用程序的统一接口。</p>
<h2 id="SDFormat"><a href="#SDFormat" class="headerlink" title="SDFormat"></a>SDFormat</h2><p>SDFormat变成一个库放在Ignition里了。SDF用来描述模拟场景和机器人。</p>
<h2 id="Sensor"><a href="#Sensor" class="headerlink" title="Sensor"></a>Sensor</h2><p>sensor主要以靠rendering模块和physics模块来完成从模拟场景中获取真实数据。Ignition提供了许多预先设定好的sensor以供使用，自定义sensor还在开发中。</p>
<h2 id="Transport"><a href="#Transport" class="headerlink" title="Transport"></a>Transport</h2><p>Transport用于在client之间传递信息，在ROS中也叫Node。Node可以分布在不同的机器上或者一台机子上。</p>
<h2 id="utils"><a href="#utils" class="headerlink" title="utils"></a>utils</h2><p>作为helper、提出warning等功能。</p>
<p>目前比较重要的是Math、Msgs、Gazebo、Physics、Transport。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/06/29/ignition-gazebo%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/29/ignition-gazebo%E4%BB%8B%E7%BB%8D/" class="post-title-link" itemprop="url">Ignition Gazebo介绍</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-29 17:45:57" itemprop="dateCreated datePublished" datetime="2021-06-29T17:45:57+08:00">2021-06-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/" itemprop="url" rel="index"><span itemprop="name">robotics</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/Iginition/" itemprop="url" rel="index"><span itemprop="name">Iginition</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Gazebo从2019年1月之后就再也没有更新过了，接力棒传到了Ignition手里。Ignition给予了用户进行包括但不限于机器人仿真的可视化平台（基于Gazebo）、通信标准、数据标准等各种API。第一个Ignition版本Acropolis是2019年2月发布的，也就是刚好接上Gazebo。现在的LTS是Citadel，质量效应玩家相比不陌生。</p>
<p>Ignition在国内基本上还没有什么资源，实际上Gazebo也不多。出于兴趣，我之后会慢慢从外网搬运一些Iginition的资源，以及发布一些学习的教程（大多都是从官网tutorial搬过来的）。这些资源都会被分类到Ignition分类里。</p>
<p>Ignition未来会代替Gazebo。比如，Gazebo在Ignition中已经成了一个库，称之为Ignition Gazebo，包含了Gazebo的大部分功能（但是似乎没有模型编辑功能，这个还挺不方便的）。所以学Gazebo还不如学Ignition一步到位，反正参考资料都一样的少。</p>
<p>Ignition可以在Windows上运行，ROS2也可以，但除非我疯了才会去在Windows上装Ignition+ROS2. 原因就和我不会在树莓派上装windows和不会在MAC上试图使用Revit一样。</p>
<p>接下来详细介绍Ignition。</p>
<h2 id="Ignition的发展史"><a href="#Ignition的发展史" class="headerlink" title="Ignition的发展史"></a>Ignition的发展史</h2><p><img src="https://ignitionrobotics.org/assets/images/timeline.svg"></p>
<p>上面这张图介绍了Ignition的发展过程。Ignition的前身是Gazebo，2002年第一个Gazebo版本诞生，2012年Gazebo转为Open Source Robotics Foundation进行开发。再之后Gazebo团队一分为二，一部分继续维持Gazebo的开发，最后一个Gazebo版本在2020年发布，并会支持到2025年。另一部分则转为开发Ignition。2019年第一个Ignition版本发布，并在12月发布了第一个LTS版本：Ignition Citadel。</p>
<p>目前Ignition的主要版本发布情况如下：</p>
<p>Name</p>
<p>Date</p>
<p>EOL date</p>
<p>Notes</p>
<p>Acropolis</p>
<p>Feb, 2019</p>
<p>Sep, 2019</p>
<p>EOL</p>
<p>Blueprint</p>
<p>May, 2019</p>
<p>Dec, 2020</p>
<p>EOL</p>
<p>Citadel</p>
<p>Dec, 2019</p>
<p>Dec, 2024</p>
<p>LTS</p>
<p>Dome</p>
<p>Sep, 2020</p>
<p>Dec, 2021</p>
<p>Edifice</p>
<p>Mar, 2021</p>
<p>Mar, 2022</p>
<p>Fortress</p>
<p>Sep, 2021</p>
<p>Sep, 2026</p>
<p>LTS</p>
<p>Ignition-G</p>
<p>Sep, 2022</p>
<p>Sep, 2024</p>
<p>Ignition-H</p>
<p>Sep, 2023</p>
<p>Sep, 2028</p>
<p>LTS</p>
<p>目前有两个LTS版本，一个是Citadel，另一个是尚在开发中的Fortress，在今年9月也将正式发布。目前的推荐版本还是Citadel，虽然很老，也比Gazebo 11新了。但是目前转投Ignition还过早，不是因为坑多，而是因为许多Gazebo的功能都还未迁移。</p>
<h2 id="Ignition-Gazebo与Gazebo-Classic的关系"><a href="#Ignition-Gazebo与Gazebo-Classic的关系" class="headerlink" title="Ignition Gazebo与Gazebo Classic的关系"></a>Ignition Gazebo与Gazebo Classic的关系</h2><p>那么Ignition和Gazebo的关系就近是什么呢？如下：</p>
<ul>
<li>Gazebo Classic：指机器人仿真软件Gazebo，一共有11个主要版本。</li>
<li>Ignition Gazebo：指Ignition中Gazebo模拟器的部分。</li>
<li>Ignition：一个包含了各种软件库和服务的平台，Gazebo模拟器是其中的一部分。</li>
</ul>
<p>虽然Ignition是Gazebo的未来，但是依然有很长的路要走。有许多Gazebo Classic中存在的功能，还没有被复刻到Ignition Gazebo中去。下面是Citadel版本的Ignition Gazebo与Gazebo Classic 11的一些功能对比：</p>
<h3 id="传感器"><a href="#传感器" class="headerlink" title="传感器"></a>传感器</h3><p>Sensor</p>
<p>Gazebo-classic</p>
<p>Ignition Gazebo</p>
<p>Air pressure</p>
<p>✕</p>
<p>✓</p>
<p>Altimeter</p>
<p>✓</p>
<p>✓</p>
<p>Camera</p>
<p>✓</p>
<p>✓</p>
<p>Contact sensor</p>
<p>✓</p>
<p>✓</p>
<p>Depth camera</p>
<p>✓</p>
<p>✓</p>
<p>Force-torque</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-sensors/issues/25">Issue</a></p>
<p>GPS</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-sensors/issues/23">Issue</a></p>
<p>GPU Ray</p>
<p>✓</p>
<p>✓ Renamed to GPU Lidar</p>
<p>IMU</p>
<p>✓</p>
<p>✓</p>
<p>Logical camera</p>
<p>✓</p>
<p>✓</p>
<p>Magnetometer</p>
<p>✓</p>
<p>✓</p>
<p>Multi-camera</p>
<p>✓</p>
<p>✕ Use individual cameras with same update rate</p>
<p>Ray</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-sensors/issues/26">Issue</a></p>
<p>RFID sensor and tag</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-sensors/issues/27">Issue</a></p>
<p>Sonar</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-sensors/issues/19">Issue</a></p>
<p>Thermal camera</p>
<p>✕</p>
<p>✓</p>
<p>Wide-angle camera</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-sensors/issues/24">Issue</a></p>
<p>Wireless</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-sensors/issues/28">Issue</a></p>
<p>Sensor features</p>
<p>Gazebo-classic</p>
<p>Ignition Gazebo</p>
<p>Custom update rate</p>
<p>✓</p>
<p>✓</p>
<p>Gaussian noise</p>
<p>✓</p>
<p>✓</p>
<p>Custom sensors</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-sensors/issues/9">Issue</a></p>
<p>Laser retroreflection</p>
<p>✓</p>
<p>✓</p>
<p>Camera distortion</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-sensors/issues/107">Issue</a></p>
<h3 id="SDF特性"><a href="#SDF特性" class="headerlink" title="SDF特性"></a>SDF特性</h3><p>Feature</p>
<p>Gazebo-classic</p>
<p>Ignition Gazebo</p>
<p>SDF frame semantics</p>
<p>✓</p>
<p>✓</p>
<p>Load models from local files</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://ignitionrobotics.org/api/gazebo/3.3/resources.html">✓</a></p>
<p>Closed kinematic chains</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-physics/issues/25">Issue</a></p>
<p>Nested models</p>
<p>✓</p>
<p>Partial support, fully available from Edifice</p>
<p>Populations</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/240">Issue</a></p>
<p>Actors</p>
<p>✓</p>
<p>✓</p>
<p>Markers</p>
<p>✓</p>
<p>✓</p>
<p>Heightmaps</p>
<p>✓</p>
<p>✕ (available from Edifice with Ogre 1)</p>
<p>DEM (Digital Elevation Models)</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/235">Issue</a></p>
<p>Polylines</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/186">Issue</a></p>
<p>World plugins</p>
<p>✓</p>
<p>✓ Now called System plugin</p>
<p>Model plugins</p>
<p>✓</p>
<p>✓ Now called System plugin</p>
<p>Sensor plugins</p>
<p>✓</p>
<p>✓ Now called System plugin</p>
<p>Visual plugins</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/265">Issue</a></p>
<p>GUI plugins</p>
<p>✓</p>
<p>✓ Ignition GUI plugins and Gazebo GUI systems</p>
<p>System plugins</p>
<p>✓</p>
<p>✓ Through Ignition Launch</p>
<h3 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h3><h4 id="Model-plugins"><a href="#Model-plugins" class="headerlink" title="Model plugins"></a>Model plugins<a target="_blank" rel="noopener" href="https://ignitionrobotics.org/docs/citadel/comparison#model-plugins"></a></h4><p>Plugin</p>
<p>Gazebo-classic</p>
<p>Ignition Gazebo</p>
<p>ActorPlugin</p>
<p>✓</p>
<p>✕ See <a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/blob/main/src/systems/follow_actor/FollowActor.hh">FollowActor</a> for a demo of Actor APIs</p>
<p>ActuatorPlugin</p>
<p>✓</p>
<p>ArduCopterPlugin</p>
<p>✓</p>
<p>AttachLightPlugin</p>
<p>✓</p>
<p>✕ Does not apply, use SDF</p>
<p>Breadcrumbs</p>
<p>✕</p>
<p>✓</p>
<p>BuoyancyPlugin</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/blob/ign-gazebo3/examples/worlds/buoyancy.sdf">✓</a></p>
<p>CartDemoPlugin</p>
<p>✓</p>
<p>✕</p>
<p>CessnaPlugin</p>
<p>✓</p>
<p>DiffDrivePlugin</p>
<p>✓</p>
<p>✓</p>
<p>ElevatorPlugin</p>
<p>✓</p>
<p>FlashLightPlugin</p>
<p>✓</p>
<p>FollowerPlugin</p>
<p>✓</p>
<p>GimbalSmall2dPlugin</p>
<p>✓</p>
<p>GravityCompensationPlugin</p>
<p>✓</p>
<p>HarnessPlugin</p>
<p>✓</p>
<p>HydraDemoPlugin</p>
<p>✓</p>
<p>InitialVelocityPlugin</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/50">Issue</a></p>
<p>JointControlPlugin</p>
<p>✓ (force &#x2F; pos &#x2F; vel, from SDF)</p>
<p>✓ (vel, from msg)</p>
<p>JointStatePublisher</p>
<p>✕</p>
<p>✓</p>
<p>JointTrajectoryPlugin</p>
<p>✓</p>
<p>KeysToCmdVelPlugin</p>
<p>✓</p>
<p>Use <code>ignition::gui::KeyPublisher</code> with <code>ignition::gazebo::systems::TriggeredPublisher</code></p>
<p>KeysToJointsPlugin</p>
<p>✓</p>
<p>Use <code>ignition::gui::KeyPublisher</code> with <code>ignition::gazebo::systems::TriggeredPublisher</code></p>
<p>LedPlugin</p>
<p>✓</p>
<p>LiftDragPlugin</p>
<p>✓</p>
<p>✓</p>
<p>LinearBatteryConsumerPlugin</p>
<p>✓</p>
<p>✓</p>
<p>LinearBatteryPlugin</p>
<p>✓</p>
<p>✓</p>
<p>LinkPlot3DPlugin</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/231">Issue</a></p>
<p>MudPlugin</p>
<p>✓</p>
<p>MulticopterMotorModel</p>
<p>✕</p>
<p>✓</p>
<p>PlaneDemoPlugin</p>
<p>✓</p>
<p>PosePublisher</p>
<p>✕</p>
<p>✓</p>
<p>RandomVelocityPlugin</p>
<p>✓</p>
<p>RegionEventBoxPlugin</p>
<p>✓</p>
<p>SimpleTrackedVehiclePlugin</p>
<p>✓</p>
<p>SkidSteerDrivePlugin</p>
<p>✓</p>
<p>✓</p>
<p>SphereAtlasDemoPlugin</p>
<p>✓</p>
<p>✕</p>
<p>TouchPlugin</p>
<p>✓</p>
<p>✓</p>
<p>TrackedVehiclePlugin</p>
<p>✓</p>
<p>VariableGearboxPlugin</p>
<p>✓</p>
<p>VehiclePlugin</p>
<p>✓</p>
<p>WheelSlipPlugin</p>
<p>✓</p>
<p>✓</p>
<p>WheelTrackedVehiclePlugin</p>
<p>✓</p>
<p>✓ (<a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/blob/44951e3ddfd238f24182d4d80b1376f0d426bd43/examples/worlds/track_drive.sdf#L2141">partially via DiffDrivePlugin</a>)</p>
<p>KineticEnergyMonitor</p>
<p>✕</p>
<p>✓</p>
<h4 id="World-plugins"><a href="#World-plugins" class="headerlink" title="World plugins"></a>World plugins<a target="_blank" rel="noopener" href="https://ignitionrobotics.org/docs/citadel/comparison#world-plugins"></a></h4><p>Plugin</p>
<p>Gazebo-classic</p>
<p>Ignition Gazebo</p>
<p>ArrangePlugin</p>
<p>✓</p>
<p>ContainPlugin</p>
<p>✓</p>
<p>Partial port, <a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/162">Issue</a></p>
<p>HydraPlugin</p>
<p>✓</p>
<p>JoyPlugin</p>
<p>✓</p>
<p>✓ Migrated as an Ignition Launch plugin</p>
<p>MisalignmentPlugin</p>
<p>✓</p>
<p>RubblePlugin</p>
<p>✓</p>
<p>StaticMapPlugin</p>
<p>✓</p>
<p>TransporterPlugin</p>
<p>✓</p>
<p>WindPlugin</p>
<p>✓</p>
<p>✓</p>
<h4 id="Sensor-plugins"><a href="#Sensor-plugins" class="headerlink" title="Sensor plugins"></a>Sensor plugins<a target="_blank" rel="noopener" href="https://ignitionrobotics.org/docs/citadel/comparison#sensor-plugins"></a></h4><p>Plugin</p>
<p>Gazebo-classic</p>
<p>Ignition Gazebo</p>
<p>BreakableJointPlugin</p>
<p>✓</p>
<p>CameraPlugin</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/49">Issue</a></p>
<p>ContactPlugin</p>
<p>✓</p>
<p>✓</p>
<p>DepthCameraPlugin</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/49">Issue</a></p>
<p>FiducialCameraPlugin</p>
<p>✓</p>
<p>ForceTorquePlugin</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/49">Issue</a></p>
<p>GpuRayPlugin</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/49">Issue</a></p>
<p>ImuSensorPlugin</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/49">Issue</a></p>
<p>LensFlareSensorPlugin</p>
<p>✓</p>
<p>PressurePlugin</p>
<p>✓</p>
<p>RayPlugin</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/49">Issue</a></p>
<p>RaySensorNoisePlugin</p>
<p>✓</p>
<p>✕ Use SDF</p>
<p>SonarPlugin</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/49">Issue</a></p>
<h4 id="Visual-plugins"><a href="#Visual-plugins" class="headerlink" title="Visual plugins"></a>Visual plugins<a target="_blank" rel="noopener" href="https://ignitionrobotics.org/docs/citadel/comparison#visual-plugins"></a></h4><p>Plugin</p>
<p>Gazebo-classic</p>
<p>Ignition Gazebo</p>
<p>AmbientOcclusionVisualPlugin</p>
<p>✓</p>
<p>BlinkVisualPlugin</p>
<p>✓</p>
<p>HeightmapLODPlugin</p>
<p>✓</p>
<p>ShaderParamVisualPlugin</p>
<p>✓</p>
<h4 id="GUI-plugins"><a href="#GUI-plugins" class="headerlink" title="GUI plugins"></a>GUI plugins<a target="_blank" rel="noopener" href="https://ignitionrobotics.org/docs/citadel/comparison#gui-plugins"></a></h4><p>Plugin</p>
<p>Gazebo-classic</p>
<p>Ignition Gazebo</p>
<p>CessnaGUIPlugin</p>
<p>✓</p>
<p>KeyboardGUIPlugin</p>
<p>✓</p>
<p><code>ignition::gui::KeyPublisher</code></p>
<p>LookAtDemoPlugin</p>
<p>✓</p>
<p>TimerGUIPlugin</p>
<p>✓</p>
<h4 id="System-plugins"><a href="#System-plugins" class="headerlink" title="System plugins"></a>System plugins<a target="_blank" rel="noopener" href="https://ignitionrobotics.org/docs/citadel/comparison#system-plugins"></a></h4><p>Plugin</p>
<p>Gazebo-classic</p>
<p>Ignition Gazebo</p>
<p>ModelPropShop</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/100">Issue</a></p>
<p>RestUiPlugin</p>
<p>✓</p>
<p>RestWebPlugin</p>
<p>✓</p>
<p>StopWorldPlugin</p>
<p>✓</p>
<h2 id="GUI"><a href="#GUI" class="headerlink" title="GUI"></a>GUI<a target="_blank" rel="noopener" href="https://ignitionrobotics.org/docs/citadel/comparison#gui"></a></h2><p>Feature</p>
<p>Gazebo-classic</p>
<p>Ignition Gazebo</p>
<p>Play &#x2F; pause &#x2F; step</p>
<p>✓</p>
<p>✓</p>
<p>Reset world &#x2F; models</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/203">Issue</a></p>
<p>World stats</p>
<p>✓</p>
<p>✓</p>
<p>Topic echo</p>
<p>✓</p>
<p>✓</p>
<p>Image viewer</p>
<p>✓</p>
<p>✓</p>
<p>Translate &#x2F; rotate</p>
<p>✓</p>
<p>✓</p>
<p>Scale models</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/195">Issue</a></p>
<p>Insert models from Fuel</p>
<p>Partial support</p>
<p>✓</p>
<p>Insert models from disk</p>
<p>✓</p>
<p>✓</p>
<p>Insert simple shapes</p>
<p>✓</p>
<p>✓</p>
<p>Insert simple lights</p>
<p>✓</p>
<p>✕ (available from Edifice)</p>
<p>Delete models</p>
<p>✓</p>
<p>✓</p>
<p>World tree</p>
<p>✓</p>
<p>✓</p>
<p>Scene properties</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/246">Issue</a></p>
<p>Log recording &#x2F; playback</p>
<p>✓</p>
<p>✓</p>
<p>Plotting</p>
<p>✓</p>
<p>✕ (available from Dome)</p>
<p>Video recording</p>
<p>✓</p>
<p>✓</p>
<p>Screenshot</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://ignitionrobotics.org/api/gui/3.5/screenshot.html">✓</a></p>
<p>View angles</p>
<p>✓</p>
<p>✓</p>
<p>Apply force &#x2F; torque</p>
<p>✓</p>
<p>Visualize as transparent</p>
<p>✓</p>
<p>Visualize as wireframe</p>
<p>✓</p>
<p>Visualize joints</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/106">Issue</a></p>
<p>Visualize collisions</p>
<p>✓</p>
<p>✓</p>
<p>Visualize inertia</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/111">Issue</a></p>
<p>Visualize CoM</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/110">Issue</a></p>
<p>Visualize contacts</p>
<p>✓</p>
<p>✕ (available from Dome)</p>
<p>Visualize lights</p>
<p>✓</p>
<p>✕ (available from Edifice)</p>
<p>Follow &#x2F; move to</p>
<p>✓</p>
<p>✓</p>
<p>Copy &#x2F; paste</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/102">Issue</a></p>
<p>Building editor</p>
<p>✓</p>
<p><strong>Model editor</strong></p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues?q=is:issue+is:open+label:editor">Issues</a></p>
<p>FPS view control</p>
<p>✓</p>
<p>Orthographic projection</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/103">Issue</a></p>
<p>Undo &#x2F; redo</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/104">Issue</a></p>
<p>Save world</p>
<p>✓</p>
<p>✓</p>
<p>Save GUI configuration</p>
<p>✓</p>
<p>✓</p>
<p>Color scheme and themes</p>
<p>✕</p>
<p>✓</p>
<p>Position, resize and configure widgets</p>
<p>✕</p>
<p>✓</p>
<p>Load GUI plugins from menu</p>
<p>✕</p>
<p>✓</p>
<p>Edit model pose</p>
<p>✓</p>
<p>✓</p>
<p>Edit light properties</p>
<p>✓</p>
<p>✕ (available from Dome)</p>
<p>Edit physics properties</p>
<p>✓</p>
<p>✕ (available from Dome)</p>
<h3 id="物理引擎"><a href="#物理引擎" class="headerlink" title="物理引擎"></a>物理引擎</h3><p>Feature</p>
<p>Gazebo-classic</p>
<p>Ignition Gazebo</p>
<p>ODE engine</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-physics/issues/63">Issue</a></p>
<p>Bullet engine</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-physics/issues/44">Issue</a></p>
<p>DART engine</p>
<p>✓</p>
<p>✓ Plugin shipped with ign-physics</p>
<p>Simbody engine</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-physics/issues/63">Issue</a></p>
<p>TPE engine</p>
<p>✕</p>
<p>✓</p>
<p>Custom engine plugins</p>
<p>✕</p>
<p>✓</p>
<p>Collide bitmasks</p>
<p>✓</p>
<p>✓</p>
<p>Restitution coefficient</p>
<p>✓</p>
<p>✓</p>
<p>Collision detector</p>
<p>✓</p>
<p>✕ (available from Edifice)</p>
<p>Solver</p>
<p>✓</p>
<p>✕ (available from Edifice)</p>
<h3 id="ROS交互"><a href="#ROS交互" class="headerlink" title="ROS交互"></a>ROS交互</h3><p>均可。</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>Feature</p>
<p>Gazebo-classic</p>
<p>Ignition Gazebo</p>
<p>Nested models</p>
<p>✓</p>
<p>✕ (available from Edifice)</p>
<p>Log &#x2F; playback</p>
<p>✓</p>
<p>✓</p>
<p>Web client (GzWeb)</p>
<p>✓</p>
<p>COLLADA meshes</p>
<p>✓</p>
<p>✓</p>
<p>OBJ meshes</p>
<p>✓</p>
<p>✓</p>
<p>STL meshes</p>
<p>✓</p>
<p>✓</p>
<p>Code introspection</p>
<p>✓</p>
<p>All simulation state is accessible from system plugins or through the <code>SceneBroadcaster</code>‘s state topic</p>
<p>Distribute simulation across processes</p>
<p>✕</p>
<p>(coming up)</p>
<p>Incrementally load levels</p>
<p>✕</p>
<p>✓</p>
<p>Online model database</p>
<p><a target="_blank" rel="noopener" href="https://github.com/osrf/gazebo_models/">gazebo_models repository</a></p>
<p><a target="_blank" rel="noopener" href="https://app.ignitionrobotics.org/fuel/models">Ignition Fuel</a></p>
<p>Saved simulation states</p>
<p>✓</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ignitionrobotics/ign-gazebo/issues/137">Issue</a></p>
<p>Sphere, cylinder and box primitives</p>
<p>✓</p>
<p>✓</p>
<p>Ellipsoid and capsule primitives</p>
<p>✓</p>
<p>✕ (available from Edifice)</p>
<p>总结一下，Citadel版本的Ignition想要替代Gazebo还远远不行。第一，插件丰富度远不及Gazebo Classic。第二，没有模型编辑功能。第三，没有重置模拟功能。许多功能都在逐渐添加，希望在正式发布的Fortness中能够添加大部分关键性功能。</p>
<h2 id="目前的学习方向？"><a href="#目前的学习方向？" class="headerlink" title="目前的学习方向？"></a>目前的学习方向？</h2><p>虽然Ignition Gazebo还无法替代Gazebo Classic，但是Ignition已经实现了完善的消息收发&#x2F;传递机制与标准，因此目前的学习往往是headless的。首先学习好Ignition的其他库，对将来深入研究Ignition以及二次开发是有很大帮助的。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/06/29/%E6%A0%91%E8%8E%93%E6%B4%BEpandas%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E6%8A%A5%E9%94%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/29/%E6%A0%91%E8%8E%93%E6%B4%BEpandas%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E6%8A%A5%E9%94%99/" class="post-title-link" itemprop="url">树莓派pandas模块导入报错</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-29 17:02:57" itemprop="dateCreated datePublished" datetime="2021-06-29T17:02:57+08:00">2021-06-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/tech/" itemprop="url" rel="index"><span itemprop="name">tech</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/embedded/" itemprop="url" rel="index"><span itemprop="name">embedded</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/tech/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/embedded/%E6%A0%91%E8%8E%93%E6%B4%BE/" itemprop="url" rel="index"><span itemprop="name">树莓派</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这几天做树莓派小项目的时候碰到一个错误，是导入python的pandas模块时发生的。</p>
<p>Traceback (most recent call last):<br>  File “<stdin>“, line 1, in <module><br>  File “&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;dist-packages&#x2F;pandas&#x2F;__init__.py”, line 17, in <module><br>    “Unable to import required dependencies:\n” + “\n”.join(missing_dependencies)<br>ImportError: Unable to import required dependencies:<br>numpy: </p>
<p>IMPORTANT: PLEASE READ THIS FOR ADVICE ON HOW TO SOLVE THIS ISSUE!</p>
<p>Importing the numpy C-extensions failed. This error can happen for<br>many reasons, often due to issues with your setup or how NumPy was<br>installed.</p>
<p>We have compiled some common reasons and troubleshooting tips at:</p>
<pre><code>https://numpy.org/devdocs/user/troubleshooting-importerror.html
</code></pre>
<p>Please note and check the following:</p>
<p>  * The Python version is: Python3.7 from “&#x2F;usr&#x2F;bin&#x2F;python3”<br>  * The NumPy version is: “1.21.0”</p>
<p>and make sure that they are the versions you expect.<br>Please carefully study the documentation linked above for further help.</p>
<p>Original error was: libf77blas.so.3: cannot open shared object file: No such file or directory</p>
<p>其实问题很简单，就是libf77blas.so.3: cannot open shared object file没有这个库。解决方法就是安装：</p>
<p>sudo apt-get install libatlas-base-dev</p>
<p>如果安装不了的话，注意一下有没有其他的坑，比如apt软件源里系统版本是buster还是stretch。RaspberryOs10是buster，9是stretch。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/06/23/gazebo%E7%B3%BB%E5%88%97%EF%BC%9Acontain%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/23/gazebo%E7%B3%BB%E5%88%97%EF%BC%9Acontain%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">Gazebo系列：contain插件的使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-23 17:08:07" itemprop="dateCreated datePublished" datetime="2021-06-23T17:08:07+08:00">2021-06-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/" itemprop="url" rel="index"><span itemprop="name">robotics</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/robotics/ROS/" itemprop="url" rel="index"><span itemprop="name">ROS</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Contain插件可以用于检测一个物体进入一个指定区域后的事件出发。官方例程中，给出了一个例子：一个小球滚入一个范围内后，灯光开启。这一章我们来看看这个插件应当如何使用。</p>
<h2 id="libTurnOnLightPlugin-so"><a href="#libTurnOnLightPlugin-so" class="headerlink" title="libTurnOnLightPlugin.so"></a>libTurnOnLightPlugin.so</h2><p>这个插件控制灯光开启或关闭。</p>
<p>依赖：</p>
<p>#include &lt;ignition&#x2F;msgs.hh&gt;<br>#include &lt;ignition&#x2F;transport&#x2F;Node.hh&gt;</p>
<p>#include “gazebo&#x2F;common&#x2F;Plugin.hh”<br>#include “gazebo&#x2F;msgs&#x2F;msgs.hh”<br>#include “gazebo&#x2F;physics&#x2F;World.hh”<br>#include “gazebo&#x2F;transport&#x2F;Node.hh”</p>
<p>Load函数：</p>
<pre><code>public: void Load(physics::WorldPtr \_world, sdf::ElementPtr \_sdf) override
&#123;
  gzmsg &lt;&lt; &quot;Loading Example plugin\\n&quot;;
  // Transport initialization
  this-&gt;gzNode = transport::NodePtr(new transport::Node());
  this-&gt;gzNode-&gt;Init();

  // Subscribe to ContainPlugin output
  std::string topic(&quot;contain\_example/contain&quot;);
  std::function&lt;void(const ignition::msgs::Boolean &amp;)&gt; cb =
      \[=\](const ignition::msgs::Boolean &amp;\_msg)&#123;
    TurnOnLightPlugin::OnContainPluginMsg(\_msg);
  &#125;;
  const bool containSub = this-&gt;node.Subscribe(topic, cb);
  if (!containSub)
  &#123;
    gzerr &lt;&lt; &quot;Failed to subscribe to \[&quot; &lt;&lt; topic &lt;&lt; &quot;\]\\n&quot;;
  &#125;

  // Make a publisher for the light topic
  this-&gt;lightPub = this-&gt;gzNode-&gt;Advertise&lt;msgs::Light&gt;(&quot;~/light/modify&quot;);
&#125;
</code></pre>
<p>Load函数中初始化了一个Node，声明了一个topic和一个匿名函数cb（触发函数），并将cb绑定到topic上。最后初始化了一个Publisher来发布消息。</p>
<pre><code>public: void OnContainPluginMsg(const ignition::msgs::Boolean &amp;\_msg)
&#123;
  msgs::Light lightMsg;
  lightMsg.set\_name(&quot;post\_light&quot;);
  // Turn light on when the entity enters the box, and off when it leaves
  if (\_msg.data())
  &#123;
    gzmsg &lt;&lt; &quot;Turning on light\\n&quot;;
    lightMsg.set\_range(15.0);
  &#125;
  else
  &#123;
    gzmsg &lt;&lt; &quot;Turning off light\\n&quot;;
    lightMsg.set\_range(0.0);
  &#125;
  this-&gt;lightPub-&gt;Publish(lightMsg);
&#125;
</code></pre>
<p>触发函数的名称按时，CointainPluginMsg是函数触发的条件。函数根据_msg.data这个bool值来控制开关。每次收到消息后，触发函数控制lightPub向topic发送一条消息。这样就完成了对灯光的控制。</p>
<h2 id="libContainPlugin-so"><a href="#libContainPlugin-so" class="headerlink" title="libContainPlugin.so"></a>libContainPlugin.so</h2><p>这里不对这个插件的源代码进行解释，因为官方例程里也没有，github上的我也不太看得懂。但是拿来用就好了。在world文件里，按以下方式使用这个插件：</p>
<pre><code>&lt;plugin name=&#39;ContainPlugin&#39; filename=&#39;libContainPlugin.so&#39;&gt;
  &lt;enabled&gt;true&lt;/enabled&gt;
  &lt;entity&gt;unit\_sphere::only\_link&lt;/entity&gt;
  &lt;namespace&gt;contain\_example&lt;/namespace&gt;
  &lt;pose&gt;0 -3 0.5 0 0 0&lt;/pose&gt;
  &lt;geometry&gt;
    &lt;box&gt;
      &lt;size&gt;4 4 1&lt;/size&gt;
    &lt;/box&gt;
  &lt;/geometry&gt;
&lt;/plugin&gt;
</code></pre>
<p>enabled：这个参数控制插件是否发布消息，默认值为true，也就是一直发布消息。通过向<code>&lt;namespace&gt;/enable</code>这个话题发布false或者true来控制这个插件是否发布消息。</p>
<p>entity：containPlugin作用在的实体对象，可以是link、model或者light。</p>
<p>namespace：这可就重要了，决定了topic 的名称。除了<code>&lt;namespace&gt;/enable</code>这个话题，还有<code>&lt;namespace&gt;/contain</code>这个极为重要的topic。如果有物体进入指定区域，插件会向这个话题发布一条true消息（类型是ignition::msgs::Boolean）。可以注意到灯光控制插件里订阅的话题就是“contain_example&#x2F;contain”。</p>
<p>pose、geometry：控制contain的区域，指定方式和一般sdf文件相同。不过现在只支持box的geometry。pose的另一个使用方法是将其固定在一个entity上。这样相当于是检测物体的box包围盒是否与其他物体相撞。例如：</p>
<p><pose frame="tree::limb">0.2 0 0.4 1.570769 0 0</pose></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/06/22/%E4%BD%BF%E7%94%A8%E6%A0%91%E8%8E%93%E6%B4%BE%E5%92%8Cpython3%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AAibeacon-scanner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/22/%E4%BD%BF%E7%94%A8%E6%A0%91%E8%8E%93%E6%B4%BE%E5%92%8Cpython3%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AAibeacon-scanner/" class="post-title-link" itemprop="url">使用树莓派和python3制作一个iBeacon Scanner</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-22 15:27:04" itemprop="dateCreated datePublished" datetime="2021-06-22T15:27:04+08:00">2021-06-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/tech/" itemprop="url" rel="index"><span itemprop="name">tech</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/embedded/" itemprop="url" rel="index"><span itemprop="name">embedded</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/tech/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/embedded/%E6%A0%91%E8%8E%93%E6%B4%BE/" itemprop="url" rel="index"><span itemprop="name">树莓派</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>iBeacon是Apple出具的低功耗单方向蓝牙通讯技术。理论上来说，支持低功耗蓝牙（Bluetooth4.0以上）的设备都可以成为一个iBeacon信标或者一个iBeacon Reader。树莓派Zero W内置了蓝牙4.0，因此也可以作为一个iBeacon Reader。</p>
<p>IOS下，可以使用Virtual Beacon应用将手机变为一个iBeacon信标。微信官方的iBeacon UUID为：UUID：FDA50693-A4E2-4FB1-AFCF-C6EB07647825，Major：10001，Minor：12345。</p>
<h2 id="配置树莓派"><a href="#配置树莓派" class="headerlink" title="配置树莓派"></a>配置树莓派</h2><p>下一步，配置树莓派。过程参考了<a target="_blank" rel="noopener" href="https://github.com/bowdentheo/BLE-Beacon-Scanner%EF%BC%8C%E4%BD%86%E6%98%AF%E8%BF%99%E4%B8%AAproject%E5%B9%B4%E4%BB%A3%E4%B9%85%E8%BF%9C%EF%BC%8C%E4%BD%BF%E7%94%A8%E7%9A%84%E6%98%AFpython2.%E7%BB%8F%E8%BF%87%E6%B5%8B%E8%AF%95%EF%BC%8C%E7%BB%8F%E8%BF%87%E5%BE%AE%E5%B0%8F%E4%BF%AE%E6%94%B9%E5%9C%A8python3%E4%B8%8A%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%EF%BC%9A">https://github.com/bowdentheo/BLE-Beacon-Scanner，但是这个project年代久远，使用的是python2.经过测试，经过微小修改在python3上也可以使用：</a></p>
<p>安装相关依赖：</p>
<p>sudo apt-get update<br>sudo apt-get install python3-pip python-dev ipython<br>sudo apt-get install bluetooth libbluetooth-dev<br>sudo pip3 install pybluez<br>sudo pip3 install future</p>
<p>修改配置文件：</p>
<p>cd &#x2F;lib&#x2F;systemd&#x2F;system<br>sudo nano bluetooth.service</p>
<p>找到ExecStart&#x3D;&#x2F;usr&#x2F;local&#x2F;libexec&#x2F;bluetooth&#x2F;bluetoothd，后面加上–experimental：</p>
<p>ExecStart&#x3D;&#x2F;usr&#x2F;local&#x2F;libexec&#x2F;bluetooth&#x2F;bluetoothd –experimental</p>
<p>重启蓝牙服务：</p>
<p>sudo systemctl daemon-reload<br>sudo systemctl restart bluetooth</p>
<h2 id="Scanner-脚本"><a href="#Scanner-脚本" class="headerlink" title="Scanner 脚本"></a>Scanner 脚本</h2><p>参考（搬运）了<a target="_blank" rel="noopener" href="https://github.com/switchdoclabs/SDL_Pi_iBeaconScanner">https://github.com/switchdoclabs/SDL_Pi_iBeaconScanner</a>里的脚本。该脚本会搜索周边的所有蓝牙设备并返回参数。但是我们并不需要全部的蓝牙设备，只需要iBeacon，因此进行一点点修改：</p>
<p>blescan.py:</p>
<p>from __future__ import print_function</p>
<h1 id="BLE-iBeaconScanner-based-on-https-github-com-adamf-BLE-blob-master-ble-scanner-py"><a href="#BLE-iBeaconScanner-based-on-https-github-com-adamf-BLE-blob-master-ble-scanner-py" class="headerlink" title="BLE iBeaconScanner based on https://github.com/adamf/BLE/blob/master/ble-scanner.py"></a>BLE iBeaconScanner based on <a target="_blank" rel="noopener" href="https://github.com/adamf/BLE/blob/master/ble-scanner.py">https://github.com/adamf/BLE/blob/master/ble-scanner.py</a></h1><h1 id="SwitchDoc-Lab-December-2020"><a href="#SwitchDoc-Lab-December-2020" class="headerlink" title="SwitchDoc Lab December 2020"></a>SwitchDoc Lab December 2020</h1><p>from builtins import range<br>DEBUG &#x3D; False</p>
<h1 id="BLE-scanner-based-on-https-github-com-adamf-BLE-blob-master-ble-scanner-py"><a href="#BLE-scanner-based-on-https-github-com-adamf-BLE-blob-master-ble-scanner-py" class="headerlink" title="BLE scanner based on https://github.com/adamf/BLE/blob/master/ble-scanner.py"></a>BLE scanner based on <a target="_blank" rel="noopener" href="https://github.com/adamf/BLE/blob/master/ble-scanner.py">https://github.com/adamf/BLE/blob/master/ble-scanner.py</a></h1><h1 id="BLE-scanner-based-on-https-code-google-com-p-pybluez-source-browse-trunk-examples-advanced-inquiry-with-rssi-py"><a href="#BLE-scanner-based-on-https-code-google-com-p-pybluez-source-browse-trunk-examples-advanced-inquiry-with-rssi-py" class="headerlink" title="BLE scanner, based on https://code.google.com/p/pybluez/source/browse/trunk/examples/advanced/inquiry-with-rssi.py"></a>BLE scanner, based on <a target="_blank" rel="noopener" href="https://code.google.com/p/pybluez/source/browse/trunk/examples/advanced/inquiry-with-rssi.py">https://code.google.com/p/pybluez/source/browse/trunk/examples/advanced/inquiry-with-rssi.py</a></h1><h1 id="https-github-com-pauloborges-bluez-blob-master-tools-hcitool-c-for-lescan"><a href="#https-github-com-pauloborges-bluez-blob-master-tools-hcitool-c-for-lescan" class="headerlink" title="https://github.com/pauloborges/bluez/blob/master/tools/hcitool.c for lescan"></a><a target="_blank" rel="noopener" href="https://github.com/pauloborges/bluez/blob/master/tools/hcitool.c">https://github.com/pauloborges/bluez/blob/master/tools/hcitool.c</a> for lescan</h1><h1 id="https-kernel-googlesource-com-pub-scm-bluetooth-bluez-5-6-lib-hci-h-for-opcodes"><a href="#https-kernel-googlesource-com-pub-scm-bluetooth-bluez-5-6-lib-hci-h-for-opcodes" class="headerlink" title="https://kernel.googlesource.com/pub/scm/bluetooth/bluez/+/5.6/lib/hci.h for opcodes"></a><a target="_blank" rel="noopener" href="https://kernel.googlesource.com/pub/scm/bluetooth/bluez/+/5.6/lib/hci.h">https://kernel.googlesource.com/pub/scm/bluetooth/bluez/+/5.6/lib/hci.h</a> for opcodes</h1><h1 id="https-github-com-pauloborges-bluez-blob-master-lib-hci-c-L2782-for-functions-used-by-lescan"><a href="#https-github-com-pauloborges-bluez-blob-master-lib-hci-c-L2782-for-functions-used-by-lescan" class="headerlink" title="https://github.com/pauloborges/bluez/blob/master/lib/hci.c#L2782 for functions used by lescan"></a><a target="_blank" rel="noopener" href="https://github.com/pauloborges/bluez/blob/master/lib/hci.c#L2782">https://github.com/pauloborges/bluez/blob/master/lib/hci.c#L2782</a> for functions used by lescan</h1><h1 id="performs-a-simple-device-inquiry-and-returns-a-list-of-ble-advertizements"><a href="#performs-a-simple-device-inquiry-and-returns-a-list-of-ble-advertizements" class="headerlink" title="performs a simple device inquiry, and returns a list of ble advertizements"></a>performs a simple device inquiry, and returns a list of ble advertizements</h1><h1 id="discovered-device"><a href="#discovered-device" class="headerlink" title="discovered device"></a>discovered device</h1><h1 id="NOTE-Python’s-struct-pack-will-add-padding-bytes-unless-you-make-the-endianness-explicit-Little-endian"><a href="#NOTE-Python’s-struct-pack-will-add-padding-bytes-unless-you-make-the-endianness-explicit-Little-endian" class="headerlink" title="NOTE: Python’s struct.pack() will add padding bytes unless you make the endianness explicit. Little endian"></a>NOTE: Python’s struct.pack() will add padding bytes unless you make the endianness explicit. Little endian</h1><h1 id="should-be-used-for-BLE-Always-start-a-struct-pack-format-string-with-“"><a href="#should-be-used-for-BLE-Always-start-a-struct-pack-format-string-with-“" class="headerlink" title="should be used for BLE. Always start a struct.pack() format string with “&lt;”"></a>should be used for BLE. Always start a struct.pack() format string with “&lt;”</h1><p>import os<br>import sys<br>import struct<br>import bluetooth._bluetooth as bluez</p>
<p>LE_META_EVENT &#x3D; 0x3e<br>LE_PUBLIC_ADDRESS&#x3D;0x00<br>LE_RANDOM_ADDRESS&#x3D;0x01<br>LE_SET_SCAN_PARAMETERS_CP_SIZE&#x3D;7<br>OGF_LE_CTL&#x3D;0x08<br>OCF_LE_SET_SCAN_PARAMETERS&#x3D;0x000B<br>OCF_LE_SET_SCAN_ENABLE&#x3D;0x000C<br>OCF_LE_CREATE_CONN&#x3D;0x000D</p>
<p>LE_ROLE_MASTER &#x3D; 0x00<br>LE_ROLE_SLAVE &#x3D; 0x01</p>
<h1 id="these-are-actually-subevents-of-LE-META-EVENT"><a href="#these-are-actually-subevents-of-LE-META-EVENT" class="headerlink" title="these are actually subevents of LE_META_EVENT"></a>these are actually subevents of LE_META_EVENT</h1><p>EVT_LE_CONN_COMPLETE&#x3D;0x01<br>EVT_LE_ADVERTISING_REPORT&#x3D;0x02<br>EVT_LE_CONN_UPDATE_COMPLETE&#x3D;0x03<br>EVT_LE_READ_REMOTE_USED_FEATURES_COMPLETE&#x3D;0x04</p>
<h1 id="Advertisment-event-types"><a href="#Advertisment-event-types" class="headerlink" title="Advertisment event types"></a>Advertisment event types</h1><p>ADV_IND&#x3D;0x00<br>ADV_DIRECT_IND&#x3D;0x01<br>ADV_SCAN_IND&#x3D;0x02<br>ADV_NONCONN_IND&#x3D;0x03<br>ADV_SCAN_RSP&#x3D;0x04</p>
<p>def returnnumberpacket(pkt):<br>    myInteger &#x3D; 0<br>    multiple &#x3D; 256<br>    for c in pkt:<br>        myInteger +&#x3D;  struct.unpack(“B”,c.to_bytes(1,’little’))[0] * multiple<br>        multiple &#x3D; 1<br>    return myInteger </p>
<p>def returnstringpacket(pkt):<br>    myString &#x3D; “”;<br>    for c in pkt:<br>        myString +&#x3D;  “%02x” %struct.unpack(“B”,c.to_bytes(1,’little’))[0]<br>    return myString </p>
<p>def printpacket(pkt):<br>    for c in pkt:<br>        sys.stdout.write(“%02x “ % struct.unpack(“B”,c.to_bytes(1,’little’))[0])</p>
<p>def packetToString(packet):<br>    “””<br>    Returns the string representation of a raw HCI packet.<br>    “””<br>    if sys.version_info &gt; (3, 0):<br>        return ‘’.join(‘%02x’ % struct.unpack(“B”, bytes([x]))[0] for x in packet)<br>    else:<br>        return ‘’.join(‘%02x’ % struct.unpack(“B”, x)[0] for x in packet)</p>
<p>def get_packed_bdaddr(bdaddr_string):<br>    packable_addr &#x3D; []<br>    addr &#x3D; bdaddr_string.split(‘:’)<br>    addr.reverse()<br>    for b in addr:<br>        packable_addr.append(int(b, 16))<br>    return struct.pack(“&lt;BBBBBB”, *packable_addr)</p>
<p>def packed_bdaddr_to_string(bdaddr_packed):<br>    if (len(bdaddr_packed) &#x3D;&#x3D; 6):<br>        return ‘:’.join(‘%02x’%i for i in struct.unpack(“&lt;BBBBBB”, bdaddr_packed[::-1]))<br>    return ‘:’.join(‘%02x’%i for i in struct.unpack(“&lt;BBBBBBBB”, bdaddr_packed[::-1]))</p>
<p>def hci_enable_le_scan(sock):<br>    hci_toggle_le_scan(sock, 0x01)</p>
<p>def hci_disable_le_scan(sock):<br>    hci_toggle_le_scan(sock, 0x00)</p>
<p>def hci_toggle_le_scan(sock, enable):</p>
<h1 id="hci-le-set-scan-enable-dd-0x01-filter-dup-1000"><a href="#hci-le-set-scan-enable-dd-0x01-filter-dup-1000" class="headerlink" title="hci_le_set_scan_enable(dd, 0x01, filter_dup, 1000);"></a>hci_le_set_scan_enable(dd, 0x01, filter_dup, 1000);</h1><h1 id="memset-scan-cp-0-sizeof-scan-cp"><a href="#memset-scan-cp-0-sizeof-scan-cp" class="headerlink" title="memset(&amp;scan_cp, 0, sizeof(scan_cp));"></a>memset(&amp;scan_cp, 0, sizeof(scan_cp));</h1><p> #uint8_t         enable;</p>
<h1 id="uint8-t-filter-dup"><a href="#uint8-t-filter-dup" class="headerlink" title="uint8_t         filter_dup;"></a>uint8_t         filter_dup;</h1><h1 id="scan-cp-enable-enable"><a href="#scan-cp-enable-enable" class="headerlink" title="scan_cp.enable &#x3D; enable;"></a>scan_cp.enable &#x3D; enable;</h1><h1 id="scan-cp-filter-dup-filter-dup"><a href="#scan-cp-filter-dup-filter-dup" class="headerlink" title="scan_cp.filter_dup &#x3D; filter_dup;"></a>scan_cp.filter_dup &#x3D; filter_dup;</h1><h1 id=""><a href="#" class="headerlink" title=""></a></h1><h1 id="memset-rq-0-sizeof-rq"><a href="#memset-rq-0-sizeof-rq" class="headerlink" title="memset(&amp;rq, 0, sizeof(rq));"></a>memset(&amp;rq, 0, sizeof(rq));</h1><h1 id="rq-ogf-OGF-LE-CTL"><a href="#rq-ogf-OGF-LE-CTL" class="headerlink" title="rq.ogf &#x3D; OGF_LE_CTL;"></a>rq.ogf &#x3D; OGF_LE_CTL;</h1><h1 id="rq-ocf-OCF-LE-SET-SCAN-ENABLE"><a href="#rq-ocf-OCF-LE-SET-SCAN-ENABLE" class="headerlink" title="rq.ocf &#x3D; OCF_LE_SET_SCAN_ENABLE;"></a>rq.ocf &#x3D; OCF_LE_SET_SCAN_ENABLE;</h1><h1 id="rq-cparam-scan-cp"><a href="#rq-cparam-scan-cp" class="headerlink" title="rq.cparam &#x3D; &amp;scan_cp;"></a>rq.cparam &#x3D; &amp;scan_cp;</h1><h1 id="rq-clen-LE-SET-SCAN-ENABLE-CP-SIZE"><a href="#rq-clen-LE-SET-SCAN-ENABLE-CP-SIZE" class="headerlink" title="rq.clen &#x3D; LE_SET_SCAN_ENABLE_CP_SIZE;"></a>rq.clen &#x3D; LE_SET_SCAN_ENABLE_CP_SIZE;</h1><h1 id="rq-rparam-status"><a href="#rq-rparam-status" class="headerlink" title="rq.rparam &#x3D; &status;"></a>rq.rparam &#x3D; &status;</h1><h1 id="rq-rlen-1"><a href="#rq-rlen-1" class="headerlink" title="rq.rlen &#x3D; 1;"></a>rq.rlen &#x3D; 1;</h1><h1 id="if-hci-send-req-dd-rq-to-0"><a href="#if-hci-send-req-dd-rq-to-0" class="headerlink" title="if (hci_send_req(dd, &amp;rq, to) &lt; 0)"></a>if (hci_send_req(dd, &amp;rq, to) &lt; 0)</h1><h1 id="return-1"><a href="#return-1" class="headerlink" title="return -1;"></a>return -1;</h1><pre><code>cmd\_pkt = struct.pack(&quot;&lt;BB&quot;, enable, 0x00)
bluez.hci\_send\_cmd(sock, OGF\_LE\_CTL, OCF\_LE\_SET\_SCAN\_ENABLE, cmd\_pkt)
</code></pre>
<p>def hci_le_set_scan_parameters(sock):<br>    old_filter &#x3D; sock.getsockopt( bluez.SOL_HCI, bluez.HCI_FILTER, 14)</p>
<pre><code>SCAN\_RANDOM = 0x01
OWN\_TYPE = SCAN\_RANDOM
SCAN\_TYPE = 0x01
</code></pre>
<p>def parse_events(sock, loop_count&#x3D;100):<br>    old_filter &#x3D; sock.getsockopt( bluez.SOL_HCI, bluez.HCI_FILTER, 14)</p>
<pre><code># perform a device inquiry on bluetooth device #0
# The inquiry should last 8 \* 1.28 = 10.24 seconds
# before the inquiry is performed, bluez should flush its cache of
# previously discovered devices
flt = bluez.hci\_filter\_new()
bluez.hci\_filter\_all\_events(flt)
bluez.hci\_filter\_set\_ptype(flt, bluez.HCI\_EVENT\_PKT)
sock.setsockopt( bluez.SOL\_HCI, bluez.HCI\_FILTER, flt )
done = False
results = \[\]
myFullList = \[\]
for i in range(0, loop\_count):
    pkt = sock.recv(255)
    ptype, event, plen = struct.unpack(&quot;BBB&quot;, pkt\[:3\])
    dataString = packetToString(pkt)
    if dataString\[38:46\] == &#39;4c000215&#39;:
        pass
    else:
        continue
    #print &quot;--------------&quot; 
    if event == bluez.EVT\_INQUIRY\_RESULT\_WITH\_RSSI:
         i =0
    elif event == bluez.EVT\_NUM\_COMP\_PKTS:
         i =0 
    elif event == bluez.EVT\_DISCONN\_COMPLETE:
         i =0 
    elif event == LE\_META\_EVENT:

        subevent, = struct.unpack(&quot;B&quot;, pkt\[3\].to\_bytes(1, &#39;little&#39;))

        pkt = pkt\[4:\]
        if subevent == EVT\_LE\_CONN\_COMPLETE:
            le\_handle\_connection\_complete(pkt)
        elif subevent == EVT\_LE\_ADVERTISING\_REPORT:
            #print &quot;advertising report&quot;
            num\_reports = struct.unpack(&quot;B&quot;, pkt\[0\].to\_bytes(1,&#39;little&#39;))\[0\]
            report\_pkt\_offset = 0
            for i in range(0, num\_reports):

                if (DEBUG == True):
                    print(&quot;-------------&quot;)
                    #print &quot;\\tfullpacket: &quot;, printpacket(pkt)
                    print(&quot;\\tUDID: &quot;, printpacket(pkt\[report\_pkt\_offset -22: report\_pkt\_offset - 6\]))
                    print(&quot;\\tMAJOR: &quot;, printpacket(pkt\[report\_pkt\_offset -6: report\_pkt\_offset - 4\]))
                    print(&quot;\\tMINOR: &quot;, printpacket(pkt\[report\_pkt\_offset -4: report\_pkt\_offset - 2\]))
                    print(&quot;\\tMAC address: &quot;, packed\_bdaddr\_to\_string(pkt\[report\_pkt\_offset + 3:report\_pkt\_offset + 9\]))
                    # commented out - don&#39;t know what this byte is.  It&#39;s NOT TXPower
                    txpower, = struct.unpack(&quot;b&quot;, pkt\[report\_pkt\_offset -2\].to\_bytes(1,&#39;little&#39;))
                    print(&quot;\\t(Unknown):&quot;, txpower)

                    rssi, = struct.unpack(&quot;b&quot;, pkt\[report\_pkt\_offset -1\].to\_bytes(1,&#39;little&#39;))
                    print(&quot;\\tRSSI:&quot;, rssi)
                # build the return string
                Adstring = packed\_bdaddr\_to\_string(pkt\[report\_pkt\_offset +1:report\_pkt\_offset + 9\])
                Adstring += &quot;,&quot;
                Adstring += returnstringpacket(pkt\[report\_pkt\_offset -22: report\_pkt\_offset - 6\]) 
                Adstring += &quot;,&quot;
                Adstring += &quot;%i&quot; % returnnumberpacket(pkt\[report\_pkt\_offset -6: report\_pkt\_offset - 4\]) 
                Adstring += &quot;,&quot;
                Adstring += &quot;%i&quot; % returnnumberpacket(pkt\[report\_pkt\_offset -4: report\_pkt\_offset - 2\]) 
                Adstring += &quot;,&quot;
                Adstring += &quot;%i&quot; % struct.unpack(&quot;b&quot;, pkt\[report\_pkt\_offset -2\].to\_bytes(1,&#39;little&#39;))
                Adstring += &quot;,&quot;
                Adstring += &quot;%i&quot; % struct.unpack(&quot;b&quot;, pkt\[report\_pkt\_offset -1\].to\_bytes(1,&#39;little&#39;))

                #print &quot;\\tAdstring=&quot;, Adstring
                myFullList.append(Adstring)
            done = True
sock.setsockopt( bluez.SOL\_HCI, bluez.HCI\_FILTER, old\_filter )
return myFullList
</code></pre>
<p>testblescan.py:</p>
<p>from __future__ import print_function</p>
<h1 id="test-BLE-Scanning-software"><a href="#test-BLE-Scanning-software" class="headerlink" title="test BLE Scanning software"></a>test BLE Scanning software</h1><h1 id="SwitchDoc-Labs-December-2020"><a href="#SwitchDoc-Labs-December-2020" class="headerlink" title="SwitchDoc Labs December 2020"></a>SwitchDoc Labs December 2020</h1><p>import blescan<br>import sys<br>import time<br>import bluetooth._bluetooth as bluez</p>
<p>dev_id &#x3D; 0<br>try:<br>        sock &#x3D; bluez.hci_open_dev(dev_id)<br>        print (“ble thread started”)</p>
<p>except:<br>    print (“error accessing bluetooth device…”)<br>    sys.exit(1)</p>
<p>blescan.hci_le_set_scan_parameters(sock)<br>blescan.hci_enable_le_scan(sock)</p>
<p>while True:<br>        returnedList &#x3D; blescan.parse_events(sock, 10)<br>        #print(returnedList)<br>        rssiDict &#x3D; {}<br>        for item in returnedList:<br>                itemList &#x3D; item.split(‘,’)<br>                itemKey &#x3D; itemList[1]+’:’+str(itemList[2])+’:’+str(itemList[3])<br>                if (itemKey in rssiDict.keys()):<br>                        rssiDict[itemKey][‘rssi’].append(int(itemList[-1]))<br>                else:<br>                        rssiDict[itemKey] &#x3D; {‘rssi’:[int(itemList[-1])]}<br>        for each in rssiDict:<br>                rssiDict[each][‘ave’] &#x3D; sum(rssiDict[each][‘rssi’])&#x2F;len(rssiDict[each][‘rssi’])<br>        print(rssiDict)<br>        print(“”)<br>        print(“————-“)<br>        time.sleep(1)</p>
<p>blescan.py搜索一个loop内（默认100次）周边的蓝牙信号，返回结果。加入一个if判断信号标记是否符合iBeacon的编码，从而过滤非iBeacon的蓝牙信号。由于是返回loop内所有获得的蓝牙信号，因此返回值很有可能有重复，在testblescan.py我对相同iBeacon的RSSI去了平均后再返回，从而一个iBeacon只返回一个值。</p>
<p>最后使用sudo python3 testblescan.py，不要忘了sudo，因为涉及到系统库调用。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/06/10/%E7%8E%A9%E5%90%8E%E6%84%9F-%E7%81%B5%E5%AA%92-the-medium/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/10/%E7%8E%A9%E5%90%8E%E6%84%9F-%E7%81%B5%E5%AA%92-the-medium/" class="post-title-link" itemprop="url">玩后感-灵媒 (The Medium)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-10 00:22:50" itemprop="dateCreated datePublished" datetime="2021-06-10T00:22:50+08:00">2021-06-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/thought/" itemprop="url" rel="index"><span itemprop="name">thought</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/thought/%E5%90%8E%E6%84%9F/" itemprop="url" rel="index"><span itemprop="name">后感</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>灵媒在国外可以说是一个老生常谈的话题了。灵媒是指一些能够通神、通灵 、通鬼的人。他们能够差遣某些鬼神来驱除另一些鬼神；或者是请示某一些鬼神来，协助求助的人们、指导人们如何克服现实生活中的种种困难，以及满足人们现实生活中的种种欲望。所以他们和人类的心理、生理上的弱点有著与生俱来的供需关系。自有人类以来就有他们活动的踪迹。在中国一般不叫这些人灵媒，他们可以是道士、和尚、江湖骗子。在基督教国家，大多数灵媒的能力局限于通死人，毕竟要是和上帝、基督、撒旦啥的直接对话就有点太扯了，不然就是《南方公园》系列了。</p>
<p>国外，特别是美国，不知道为啥特别推崇灵媒一系列的主题作品，还大有市场。前有《灵媒缉凶》，后有《通灵神探》。我小时候甚至还在Discovery频道上看过灵媒的一些介绍向节目。不过接受马列教育的我对这种作品都不太感冒。国内类似作品太多了，通死人算个啥，通鬼神的作品一只手都数不过来。</p>
<p>那么这款由<strong>Bloober Team</strong>开发的游戏如何呢？首先我要说，作为XSX&#x2F;S和PC独占的游戏，在343工作室拉跨的情况下，灵媒可以说是第一款真正意义上的次世代主机作品。但是在XSX上，游戏表现的不那么尽如人意。首先，游戏仅能在4k画质下30帧运行，说好的次世代60帧是基本操作呢？其次，人物动作僵硬，尤其是跑步姿势，像极了70岁大爷在慢跑，我甚至怀疑制作住故意限制了移动速度来增加游戏时长；与场景互动时，人物会生硬地平移到指定位置再执行动作。最后，部分场景下渲染速度慢，很难想象这是次世代主机上会发生的事情。哦对了，游戏不支持相机模式——简直是对如此精细的场景的一大浪费。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/06/image-3-1024x568.png"></p>
<p>难以直视的渲染未加载完成时的建模</p>
<p>当然，《灵媒》也有出色的一面，例如室外场景下精细的景色建模：</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/06/image-4-1024x575.png"></p>
<p>精神世界中独特的美术风格：</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/06/image-5-1024x567.png"></p>
<p>富有开拓性的分屏解密玩法：（但是不支持相机模式让很多很有意思的场景无法记录下来了，另外一个问题是由于要渲染两个场景导致分辨率下降）</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/06/image-6-1024x577.png"></p>
<p>还有一个算不上优点也算不上缺点的游戏特点。玩家不能主动调整游戏视角，游戏视角像一个他人操控的摄影机更随着主角，制造出一种电影的效果。但是有些时候转场转的比较生硬，反而有些出戏。还有一些时候这个特点会对玩家解密造成困扰。其实我觉得这个游戏的解密过程有点像逃离方块系列中的单关卡多场景解密。</p>
<p>设定中主角具有通灵能力，能够看到其他人看不到的东西，也就是里世界。这种设定《寂静岭》玩家一定不陌生，实际上游戏里表现也非常的类似。在游戏过程中，主角可能会在三种视野中切换：纯物质世界、纯精神世界、物质精神共存世界。前两种一般会组成“反复横跳”类谜题，也就是进入物质世界触发机关，在进入精神世界拾取物品一类的谜题。后者则是游戏的特色玩法，主角的行动会同时受到来自物质世界和精神世界的影响，两个世界也会互相影响，玩家需要在两个分屏中来回切换注意力来解开谜题。</p>
<p>游戏里还有一些潜行关卡，大多是秦王绕柱玩法，不算出彩。倒是逃生片段很摄人心魄，算是把游戏的画面、声效、玩法优势都发挥到了极致。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/06/image-7-1024x570.png"></p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/06/image-8-1024x570.png"></p>
<h3 id="故事梗概"><a href="#故事梗概" class="headerlink" title="故事梗概"></a>故事梗概</h3><p>女主从小被养父Jack收养。她经常做一个噩梦，一个小女孩被一个男人追赶，最后在一个码头被强杀。玛丽安的灵媒属性从小就体现出来了，她能看到死者，通过感应回显过去发生的事，最牛逼的是能够送因故无法离去的逝者从精神世界离开（但要知道对方的名字）。Jack死后，玛丽安为Jack送葬时接到了一个叫托马斯的人的电话，要她去尼瓦度假村找他。</p>
<p>尼瓦度假村早已废弃，原因是这里发生了一场屠杀事件，目击者说凶手仿佛“被附身”。玛丽安在精神世界中遇到了一个小女孩小哀，小哀指引玛丽安开始探寻尼瓦度假村背后的真相。在探险过程中遇到了一个怪物，这个怪物不停地念叨要把玛丽安穿在身上，其他人都穿了一会儿就坏了（这么喜欢穿衣服就叫你暖暖吧）。</p>
<p>玛丽安最终找到了一个轮椅来回显托马斯的记忆。原来托马斯曾经有一个挚友理查德，他在托马斯还小的时候就发现了托马斯的超能力，托马斯能够绘声绘色地描述“另一个世界”。理查德比托马斯年长很多，在长久的相处中，渐渐把对方看作是自己的儿子一样。托马斯后来上了大学，选择了建筑系，理查德资助托马斯建造了尼瓦度假村来完成他的梦想。后来托马斯结婚后，理查德也是非常不舍。托马斯与妻子有一个女儿莉莉，也继承了父亲的灵媒能力，经常与现实中不存在的小朋友说话。托马斯有一些担忧，出于信任就把她送到理查德那里，希望能接受正常孩子的教育。理查德给她画画，教她弹琴，发现莉莉长得很像自己年轻时喜欢的女孩。直到有一天理查德没有控制住自己的心魔，伤害了（游戏中没交代清楚，大概率是娈童）莉莉，莉莉内心的黑暗力量觉醒了，但是还没有释放出来。发现了真相的托马斯愤而使用超能力进入理查德的精神世界。原来理查德的家庭也不完整，父亲在二战中战死，继父对他态度极差，唯一的玩伴只有一个犹太人姑娘。波兰被占领后，犹太人姑娘也不知所踪。托马斯找到了理查德的精神化身，把他拉了出来（或者杀掉了），现实世界中理查德变成了植物人。</p>
<p>托马斯的第一段记忆到这里结束了，玛丽安在精神世界中看到了化身为巨大丑恶怪物的理查德，但是理查德没有伤害玛丽安，只是想让玛丽安把自己送走。玛丽安虽然十分抗拒，但还是照做了（善良的女主）。女主也知道了小哀就是莉莉。</p>
<p>再解开几个谜题，躲开好几次暖暖后，玛丽安从一个打火机上找到了托马斯的第二段记忆。托马斯使用自己的超能力后，引起了某个政府部门的注意，想要将托马斯的能力为己所用。部门派出了一名为亨利的探员来调查托马斯，但是托马斯发现了亨利的行动，想要仔细调查此人。没想到亨利先下手为强，拘禁了托马斯，一番折磨后托马斯不愿说出自己的秘密，亨利直接当着托马斯的面烧了他的家，以此要挟托马斯。一番打斗后，托马斯的灵体乘机进入亨利的精神世界。亨利是一个冷面工作狂，为了“祖国和人民”连自己的父亲也不放过（黑社会主义，西方社会传统艺能了，只是没想到一个波兰制作组也难逃窠臼）。托马斯的灵体最终打败了亨利精神世界中的怪物，找到了亨利的精神本体，原以为这样就可以让亨利陷入植物人状态，没想到亨利的精神本体早已就被怪物吞噬因此异常强大（坚定的共产主义战士！），困住了托马斯的灵体。来到现实世界这边，托马斯使用物理方式让亨利再也醒不过来后，但房屋已经烧毁了。绝望的托马斯却发现莉莉和玛丽安安然无恙（这是第一次揭示玛丽安就是托马斯的女儿）。但是托马斯却感受不到自己的灵体了，然而托马斯还没有陷入植物人状态，说明灵体依然存活在其他位置，就是亨利的精神世界中。</p>
<p>最终，玛丽安在红楼击败了亨利的精神本体，托马斯的灵体得以释放。在与托马斯的灵体的对话中，玛丽安了解到，在那场火灾中，自己一度陷入濒死，失去了记忆，也因此获得了肉身灵魂同时与两个世界交互的能力。为了不让另一个女儿也受到苦难，托马斯将玛丽安送到了孤儿机构，后来被Jack收养。托马斯后来一直呆在尼瓦寻找解决暖暖的方法，他的做法就是把莉莉和暖暖一起关起来。然而暖暖诱导职员弗兰克放出了莉莉，也放出了暖暖。暖暖首先附身在护工身上屠杀了尼瓦，然后在尼瓦不停地游荡，不过没有对弗兰克下手，一方面可能是弗兰克还算是个恩人，一方面也是弗兰克属于“一穿就坏”的类型。暖暖想要托马斯或者玛丽安的身体。</p>
<p>故事的结尾，玛丽安在梦境中的那个码头见到了姐姐莉莉。莉莉告诉玛丽安，这个梦境是她的愿望，因为只要她死了，暖暖也就消失了；而只要她不死，暖暖就不会死。在火灾那晚，她与心中的黑暗力量做了个交易，给它自由，它就会救出她和玛丽安。结果就是，暖暖获得了自由。莉莉要求玛丽安杀死自己，但是玛丽安并不愿意下手，另一边看到了追来的暖暖，反而将枪顶在自己头上，威胁让暖暖没有新衣服穿（？）。最终游戏以一声枪响结束，谁也不知道打在了谁身上。</p>
<p>应当说，游戏的故事还是很精彩的，但是一周目中，破碎的信息让人很难把故事整体穿起来。不过我觉得这个故事精彩不在于设定和情节有多出彩，而是游玩结束后再次梳理后，所有信息环环相扣的精巧感。不过这种游戏也很难让人去玩二周目或者三周目，这其中可能也有难以调和的矛盾吧。</p>
<p>总的来说，这款游戏因为在XGP中，我基本上相当于是白嫖的。但是如果要我去花190大洋买，我可能会觉得不划算。如果是前者，我还是非常推荐这款游戏的。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/06/08/2021%E5%B9%B46%E6%9C%888%E6%97%A5%E6%9D%82%E6%84%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/08/2021%E5%B9%B46%E6%9C%888%E6%97%A5%E6%9D%82%E6%84%9F/" class="post-title-link" itemprop="url">2021年6月8日杂感</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-08 17:38:03" itemprop="dateCreated datePublished" datetime="2021-06-08T17:38:03+08:00">2021-06-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bolgs/" itemprop="url" rel="index"><span itemprop="name">bolgs</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bolgs/%E6%9D%82%E8%B0%88/" itemprop="url" rel="index"><span itemprop="name">杂谈</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>一个星期没有写点啥了，最近事儿真是多。我总感觉，科研这种事情是要用大片的时间去做的。这里一点社工，那里一点作业，科研进度很容易一拖再拖。</p>
<p>但是就算给我大片时间，我也能用各种巧妙的方法把它切碎，然后让自己毫无科研进展。</p>
<p>不然短视频怎么这么火呢，每个人都喜欢快速迭代更新的信息。好奇古人在古代有更多大片的时间，他们都做些什么呢？</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/06/01/%E6%96%B0%E7%94%9F%E5%84%BF%E6%80%A7%E5%88%AB%E6%AF%94%E4%BE%8B%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/01/%E6%96%B0%E7%94%9F%E5%84%BF%E6%80%A7%E5%88%AB%E6%AF%94%E4%BE%8B%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">新生儿性别比例的问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-01 20:09:10" itemprop="dateCreated datePublished" datetime="2021-06-01T20:09:10+08:00">2021-06-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/thought/" itemprop="url" rel="index"><span itemprop="name">thought</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/thought/%E6%96%B0%E9%B2%9C%E4%BA%8B/" itemprop="url" rel="index"><span itemprop="name">新鲜事</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>三胎政策开放，带来了很多争论。其中有一种论点是，三胎会导致男女比例更加失衡，因为给了想生男孩的家庭更多的“试错机会”。确实，现实中存在不生男孩就一直生的家庭。随便一搜就可以看到这些令人一阵恶寒的标题。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/06/image-1-1024x1001.png"></p>
<p>那么抛开非法堕胎和令人发指的杀婴，这种观念是否会造成性别失衡呢？从直观上说，没有外部影响的情况下，每一次生育都是独立事件，男女概率是相等的。因此，应该不会影响性别比例。但是这种重男轻女的观念居然不会影响性别比例，似乎也不符合常识。那么用一个简单的模拟来看一下吧。</p>
<h2 id="模拟方法"><a href="#模拟方法" class="headerlink" title="模拟方法"></a>模拟方法</h2><p>使用python编写程序。首先，模拟计划生育下的一胎政策。只生一胎，无论男女。自然出生率下，男性本来就是高于女性的，大约是106：100。为什么是这样，还没有定论，一部分人认为基因选择的后果，造成男新生儿数量多于女新生儿时，女性平均寿命比男性长，这样使得整体人口比例接近1：1.在公认的男女平等国家，统计数据也是男性居多。</p>
<p>def SinglePolicy():<br>    m &#x3D; 0<br>    f &#x3D; 0<br>    flag &#x3D; random.random()<br>    if flag&lt;&#x3D;106&#x2F;206:<br>        m+&#x3D;1<br>    else:<br>        f+&#x3D;1<br>    return m,f</p>
<p>模拟三胎政策，生到有男孩出生为止。</p>
<p>def TriPolicy():<br>    m &#x3D; 0<br>    f &#x3D; 0<br>    for i in range(3):<br>        flag &#x3D; random.random()<br>        if flag&lt;&#x3D;106&#x2F;206:<br>            m+&#x3D;1<br>            break<br>        else:<br>            f+&#x3D;1<br>    return m,f</p>
<p>极端情况：无视计划生育，生到有男孩出生为止。</p>
<p>def InfPolicy():<br>    m &#x3D; 0<br>    f &#x3D; 0<br>    while(m&#x3D;&#x3D;0):<br>        flag &#x3D; random.random()<br>        if flag&lt;&#x3D;106&#x2F;206:<br>            m+&#x3D;1<br>            break<br>        else:<br>            f+&#x3D;1<br>    return m,f</p>
<p>假设有100000个生育家庭，分别按照以上策略生育，分别模拟一百次，考察平均比例与方差：</p>
<p>男性新生儿数</p>
<p>女性新生儿数</p>
<p>平均男女比例</p>
<p>方差</p>
<p>单胎不求子</p>
<p>51051</p>
<p>48949</p>
<p>1.060002</p>
<p>4.5e-05</p>
<p>二胎求子</p>
<p>76482</p>
<p>71970</p>
<p>1.060577</p>
<p>3.2e-05</p>
<p>三胎求子</p>
<p>88565</p>
<p>83328</p>
<p>1.0600113</p>
<p>3.1e-05</p>
<p>无限胎求子</p>
<p>100000</p>
<p>94675</p>
<p>1.0600341</p>
<p>2.6e-05</p>
<p>模拟显示，不管是哪一种政策下的观念，都不会影响男女比例（在统计学意义上）。反而是那些重男轻女观念重的家庭，放开多胎后可能会多生几个，<strong>变相提高了新生儿数量</strong>。那么问题来了，到底是什么造成了中国的新生儿男女比例差异如此之大？可以确定的是，杀婴这种残忍的手段已经很少了。现在最为常见的可能是非法的胎儿性别筛查后堕胎，以及多胎政策未开放前，部分女性新生儿没有户口因此没有被纳入人口统计。</p>
<p>中国的计划生育有两个节点：2016年，二胎放开；2021年，三胎放开。也就是说，在2016年前，每户家庭只能生一个孩子。那么一份2013年的新生儿调查报告应当可以反映出大部分人遵循独生子女计划生育时的新生儿性别。如果所有人都不进行非法堕胎，并且严格遵循只生一个的政策，那么新生儿比例应当是自然比例，也就是106：100.然而，在2013年世界经济论坛的调查中，中国的新生儿比例在112：100，基本是世界最高。这个数字还比计生委统计得到的数字低，计生委2013年的统计比例为117.60。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/06/image-2-729x1024.png"></p>
<p>同时，也有文献指出，新生儿性别的失衡，与瞒报女性新生儿相关性较低。《新中国成立以来我国出生性别比升高的研究与治理综述》中指出，学界基本否定了漏报女婴是引起出生性别升高的主要因素的观点。也就是说，堕胎才是主要原因。那么，在不考虑瞒报的情况下，女胎要有多少额外的堕胎率，才能达到1.12的性别比呢？</p>
<p>简单起见，假设夫妻堕胎后不再进行生育（或者假设堕胎后不影响生育能力，实际上不影响结果）。自然流产概率为15%，这里的自然流产指的是临床上诊断为妊娠后的自然流产。</p>
<p>def SinglePolicyAbortionAllowed():<br>    m &#x3D; 0<br>    f &#x3D; 0<br>    sexFlag &#x3D; random.random()<br>    abortionFlag &#x3D; random.random()<br>    natralAbortion &#x3D; 0.15<br>    additionAbortion &#x3D; 0.045 #额外的堕胎率<br>    if sexFlag&lt;&#x3D;106&#x2F;206:<br>        m+&#x3D;1<br>        if abortionFlag &lt; natralAbortion:<br>            m-&#x3D;1<br>    else:<br>        f+&#x3D;1<br>        if abortionFlag &lt; natralAbortion + additionAbortion:<br>            f-&#x3D;1<br>    return m,f</p>
<p>经过相同实验验证，只有女新生儿的堕胎概率比男性高4.5%时，性别比例可能会达到1.12这个数字。堕胎概率比男性高8%时，性别比例可能会达到1.17.2013年中国新生儿数量为1640万，如果按照4.5%的比例计算，至少有42.7万女婴是被非法筛查性别后堕胎的。这一数字大概是韩国2016年的新生儿数量。当然以上假设很多都是不靠谱的，只能说真实的数量在这个量级附近。</p>
<p>那么问题来了，假设这个堕胎概率不变，放开二胎或堕胎政策后，性别比例是否会得到改善呢？我们按假设，在多胎政策中，依然使用“生出男孩为止”的策略。不同的是，直到最后一个胎儿为止，不对前面的胎儿进行人工堕胎；而最后一个胎儿，如果是女性则会有额外的堕胎率。如果堕胎了，则会再生一胎。不考虑自然流产率，实际上是会低估男女性别比例的，并且额外堕胎率越高，低估程度越大。简单起见这里不考虑。考察胎数、堕胎率对新生儿性别比例的影响：</p>
<p>def MultiPolicyAbortionAllowed(birthNum, addAbortion):<br>    m &#x3D; 0<br>    f &#x3D; 0<br>    additionAbortion &#x3D; addAbortion<br>    for i in range(birthNum):<br>        sexFlag &#x3D; random.random()<br>        if sexFlag&lt;&#x3D;106&#x2F;206:<br>            m+&#x3D;1<br>        else:<br>            f+&#x3D;1<br>    if m&#x3D;&#x3D;0:<br>        while(True):<br>            abortionFlag &#x3D; random.random()<br>            if abortionFlag&lt;additionAbortion:<br>                f-&#x3D;1<br>                sexFlag &#x3D; random.random()<br>                if sexFlag&lt;&#x3D;106&#x2F;206:<br>                    m+&#x3D;1<br>                else:<br>                    f+&#x3D;1<br>            elif(abortionFlag&gt;&#x3D;additionAbortion or m!&#x3D;0):<br>                break<br>    return m,f</p>
<p>0.05</p>
<p>0.08</p>
<p>0.1</p>
<p>0.2</p>
<p>一胎</p>
<p>1.12</p>
<p>1.156</p>
<p>1.184</p>
<p>1.365</p>
<p>二胎</p>
<p>1.073</p>
<p>1.083</p>
<p>10.89</p>
<p>1.127</p>
<p>三胎</p>
<p>1.064</p>
<p>1.067</p>
<p>1.069</p>
<p>1.082</p>
<p>模拟结果显示，再采取该策略的情况下，允许胎数越多，性别反而越平衡。甚至三胎中最后一胎的额外流产率在恐怖的20%，最终性别比也在1.082，甚至好于5%额外流产率的一胎政策。这个模拟结果，让我反而不知道说什么好。在重男轻女的氛围下，多胎政策反而会让性别比例更加平衡？多胎政策的针对人群，到底是哪部分？谁最能相应该政策的号召？</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wonderful-sea-04900b000.6.azurestaticapps.net/2021/05/30/%E7%8E%A9%E5%90%8E%E6%84%9F-%E5%9C%B0%E7%8B%B1%E4%B9%8B%E5%88%83%EF%BC%9A%E8%B5%9B%E5%A8%9C%E7%9A%84%E7%8C%AE%E7%A5%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn Lin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/30/%E7%8E%A9%E5%90%8E%E6%84%9F-%E5%9C%B0%E7%8B%B1%E4%B9%8B%E5%88%83%EF%BC%9A%E8%B5%9B%E5%A8%9C%E7%9A%84%E7%8C%AE%E7%A5%AD/" class="post-title-link" itemprop="url">玩后感-地狱之刃：赛娜的献祭</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-30 16:41:00" itemprop="dateCreated datePublished" datetime="2021-05-30T16:41:00+08:00">2021-05-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-03-27 15:52:33" itemprop="dateModified" datetime="2025-03-27T15:52:33+08:00">2025-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bolgs/" itemprop="url" rel="index"><span itemprop="name">bolgs</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bolgs/%E6%9D%82%E8%B0%88/" itemprop="url" rel="index"><span itemprop="name">杂谈</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/thought/" itemprop="url" rel="index"><span itemprop="name">thought</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/thought/%E5%90%8E%E6%84%9F/" itemprop="url" rel="index"><span itemprop="name">后感</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>不要哀悼波浪、落叶和云彩。即使在黑暗中，世界的奇迹和美丽永远不会离开我们，他总是在那里，等待再次被看到。</p>
<p>HellBlade: Senua’s Sacrifice</p>
</blockquote>
<p>你是否想象过，精神分裂症患者的世界是怎样的？不断的呓语？脑海中无休无止的声音？时而恐怖时而温馨的幻想？Ninja Theory说，制作这款游戏时，他们参考了许多精神分裂症患者的真实感受，也许你能通过这款游戏窥探一下饱受精神疾病摧残患者的世界。</p>
<p>让我们先从这款游戏的表象说起：地狱之刃使用了虚幻4引擎开发，制作方Ninja Theory描述其是“独立的AAA级游戏”，表示该作品的开发与发行都由他们亲自负责，保证作品有AAA质量的市场价值。事实上也确实如此，作为一款独立游戏，体量上可能达不到3A的水准，但是不管从画面、配乐还是故事内核上，都足以与其他3A游戏媲美。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/05/image-104-1024x567.png"></p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/05/image-105-1024x578.png"></p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/05/image-107-1024x576.png"></p>
<p>如果这些画面不够“艳”到你，那么尸海一定会“惊”到你：地狱也不过如此。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/05/image-108-1024x578.png"></p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/05/image-109-1024x569.png"></p>
<p>说完了画面，来说说音效。本作的一大特点是对音效的雕琢，推荐带耳机游玩。本作BGM很少，取而代之的时絮絮叨叨的人声从一开始就伴随玩家，你可以把它当作是女主精神分裂症下其他人格的声音。这些人格会在塞娜的脑海中不停地劝阻、鼓励塞娜，在战斗、解密中有的时候还会给予提示。你可以清楚地听到，左声道中“Go back！Its too dangerous”，右边声道中“He is waiting！You can’t give up！”。某些不胜其烦的玩家因此给此作打了差评，但实际上我认为这是制作组对心理的完美描写——在此之前，我好像没有玩过能够如此丰富描写主角心理的游戏，大多时候我们玩RPG时，我们的想法&#x3D;主角的想法。而塞娜有着自己的想法，玩家只是操控塞娜解密、战斗，见证塞娜的蜕变。所以此作是一款“心理恐怖与动作冒险的交互式电影类型游戏”而不是波斯王子那样的解密+动作游戏。</p>
<p>接下来说说游戏玩法。游戏核心主要有两个：与环境交互的解密，以及近战战斗。解密部分会有一些难度，我基本都参考了攻略；简单模式下的战斗还是比较简单的，作为一款“交互式电影类型游戏”我也不想花太多时间在重复复活上。值得一提的是，本作战斗部分没有任何教学部分，这对Ninja Theory这样一个以动作游戏见长的制作组来说还是挺大胆的。然而实际上，战斗部分基本上是凝聚了动作游戏的精华：轻击、重击、格挡破招、闪避，上手很快，在有限的战斗时间内给予了玩家最大的战斗体验。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/05/%E6%97%A0%E6%A0%87%E9%A2%98.png"></p>
<p>不过强制锁定视角提高了一对多的战斗难度。格挡破招后的反击有无敌状态，熟练掌握这一点可以让一对多的战斗难度大大降低。</p>
<hr>
<p>最后说说本作核心：故事内核。</p>
<p>故事大概是女主塞娜，为了拯救爱人的灵魂，挑战死亡女神海拉的故事。为了挑战海拉，塞娜先后击败了幻神瓦尔拉文、火神苏尔特，通过了四个试炼，穿过尸海，杀死猛兽芬里厄，最后面对海拉。然而最终女主还是无法击败海拉，但是在失败的瞬间，她意识到并不是海拉困住了爱人的灵魂，而是无法释怀的自己。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/05/image-110-1024x575.png"></p>
<p>意识到这一点的塞娜最终选择放下，开启属于自己的新的故事。</p>
<p>故事的明线如此，而暗线更是一波三折。首先女主塞娜是凯尔特人，本作有着非常浓厚的北欧神话氛围。游戏中的“北方人”指的是维京人，历史上维京人和凯尔特人在不列颠展开了长久的争夺，期间自然少不了野蛮的烧杀掳掠。塞娜的爱人迪利恩就是被维京人杀死的。火神苏尔特，可能就是指维京人在掠夺过程中焚烧村庄给塞娜带来的恐惧与痛苦。击败苏尔特，塞娜也就克服了自己心中的第一道恐惧。</p>
<p>在游戏过程中，除了迪利恩，还有其他几个声音会与塞娜交流。一个声音来自“老疯子”德鲁斯，维京人掳走他后并没有杀他，而是把他当作奴隶。在七年的时间里德鲁斯学会了维京人的语言，以及他们的神话体系。在塞纳的记忆中，她在荒原上找到了严重烧伤的德鲁斯——德鲁斯也说，自己在一场大火中逃走，而维京人惧怕火神苏尔特的力量而没有追赶他，基本上也对上了号。游戏过程中，可以找到许多石碑，德鲁斯会讲述许多纯正的北欧神话故事。</p>
<p>第二个声音来自塞娜的父亲，但是也可能是其他黑暗势力的假扮（下面也姑且称塞娜的父亲）。从对话中我们可以大概推断出，塞娜的父亲在部族中应当属于比较有威望的领导者，而他基本不允许塞娜出门。塞娜的父亲和部族其他人宣称，塞娜和她的母亲都被诅咒了，会给部族带来不幸，因此放逐了塞娜。在游戏过程中，塞纳的父亲一直以黑暗的形象出现，持续打击塞娜的心灵，后期还会以猛兽的形态出现。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/05/image-112-1024x569.png"></p>
<p>第三个声音来自塞娜的母亲。塞娜五岁时，她的母亲就死了。从塞娜的幻象中，可以推断塞娜的母亲是被烧死的。塞娜认为，自己和母亲都有一些特殊的能力，母亲能够预见未来，而自己能够看到其他人看不到、听到其他人听不到的东西。也因为这种“能力”，她的母亲被当作异教徒烧死了，始作俑者恐怕就是塞娜的父亲。</p>
<p>第四个声音来自迪利恩。塞娜在一次偶然出门时，在一棵树下遇见了练剑的迪利恩，迪利恩邀请她以后经常与自己一起练剑。就这样两人萌发了爱情。然而塞娜在被放逐后回到家乡时，却看到了惨死的迪利恩，脑袋被插在木桩上。塞娜取下了爱人的头颅踏上寻找爱人灵魂的亡者之旅。</p>
<p>把上面几条线索结合起来，再结合制作住“这是一个关于精神病的游戏”，会发现事实可能更为压抑：精神病是一种遗传可能性相当高的疾病，塞娜的母亲和塞娜都患有不同程度的精神病，这解释了她们为什么能看到、听到其他人感受不到的东西，而这在其他人看起来是可怖的，因此烧死了塞娜的母亲，而塞娜也许是因此被父亲保护起来了，不允许她出门，但是这依然给塞纳留下了心理阴影。后来塞娜偶尔被允许出门时遇见了迪利恩，迪利恩一直支持塞娜，相信她说的那些幻听、幻觉，塞娜自信心爆棚开始顶撞父亲，直到在部落中散布灾难的消息。父亲为了在其他族人面前保护她，将她放逐到荒原里，而塞娜认为这是父亲对自己的另一桩暴行。在荒原里，塞娜遇到了逃出来的老疯子，老疯子向她讲述了许多北方人的故事。然而在塞娜回到家乡后，瘟疫和维京人的入侵已经夺取了所有人的性命，塞娜还目睹到自己的爱人迪利恩被插在架子上，胸膛被抛开，称之为“血鹰”。塞娜本来就不稳定的精神直接奔溃。塞娜将仇恨指向了父亲、北方人以及塞娜自己，结合老疯子告诉她的故事，她编造了一个巨大的精神世界，在里面踏上了寻找爱人的路。最终塞娜来到了海拉面前，经历了一番“超我”和“本我”的大战。</p>
<p><img src="http://82.156.1.75/wp-content/uploads/2021/05/image-111-1024x570.png"></p>
<p>直视自己的内心时，塞娜终于意识到，爱人已经死了，没有任何办法可以把他带回来，依然要面对“自我”，面对残酷的现实。最后，塞娜扔掉了爱人的头颅，走出了心结，继续自己的生活。到头来，玩家看到、听到、操控的一切，不过是塞娜脑海中的幻想。这个观点，也在Hellblade的影片中得到了印证。</p>
<p>迪利恩最后对塞娜说：</p>
<blockquote>
<p>不要畏惧死亡。逃离死亡，只会看到它投下的阴影。越是躲避它，阴影就越发壮大，直到你看到的只剩下黑暗。当大限来临，要直面死亡，像朋友般拥抱它。只有这样，才不会恐惧，摆脱黑暗。</p>
</blockquote>
<p>死亡与毁灭投下阴影，即使阴影笼罩在身上，也要看到远方的光明。本作让我印象最深的两处，一是尸海的场景，只能惊叹于人类的想象力，如此恐怖的场景，只能在游戏中给人以震撼。另外一个就是最终的大战，塞娜面对着无穷无尽的敌人，提前看了攻略的我直到这一关只有死亡才能进入下一段剧情，然而到了这一幕，我还是无法停止抵抗接受残酷的现实。然而有点令人啼笑皆非的是，简单难度下的战斗太过简单，我可能能打到自己厌烦为止，于是我决定不再使用格挡与闪避。从压抑了太久后的愤怒，到无法抗争命运的无奈，到最终意识到心魔实际上是自己的释然，塞娜走过了的心路历程，也让我震撼不已。</p>
<p>地狱之刃：塞娜的献祭是一款艺术片，它完美诠释了游戏为什么可以被称为第九艺术。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/12/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/14/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Xiao Lin</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">173</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">分类</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="/linxiaoshaw@foxmail.com" title="E-Mail → linxiaoshaw@foxmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiao Lin</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
